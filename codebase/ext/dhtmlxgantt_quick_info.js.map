{"version":3,"sources":["webpack:///dhtmlxgantt_quick_info.js","webpack:///webpack/bootstrap 4a949578cbbb066f713d","webpack:///./sources/ext/quick_info.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","21","22","gantt","config","quickinfo_buttons","quick_info_detached","show_quick_info","attachEvent","id","setTimeout","showQuickInfo","events","hiding_function","_hideQuickInfo","length","templates","quick_info_title","start","end","ev","text","substr","quick_info_content","details","quick_info_date","task_time","quick_info_class","task","this","_quick_info_box_id","hideQuickInfo","pos","_get_event_counter_part","_quick_info_box","_init_quick_info","_quick_info_task","className","_prepare_quick_info_classname","_fill_quick_data","_show_quick_info","callEvent","forced","qi","taskId","parentNode","removeChild","style","right","left","event","window","e","keyCode","offset","nodeName","toLowerCase","$task_data","appendChild","width","offsetWidth","height","offsetHeight","scrolls","getScrollState","screen_width","$task","x","Math","min","max","dx","top","dy","$root","getTask","css","template","start_date","end_date","_quick_info_readonly","isReadonly","document","createElement","_waiAria","quickInfoAttr","ariaAttr","quickInfoHeaderAttrString","html","buttons","is_editor","icon_delete","icon_edit","quickInfoButtonAttrString","locale","labels","innerHTML","buttonClick","_qi_button_click","target","srcElement","code","which","node","box","mask","indexOf","$click","split","replace","domEv","getTaskNode","offsetTop","offsetLeft","offsetParent","scroll","$container","y","header","content","date","titleContent","firstChild","nextSibling","quickInfoHeader","join"],"mappings":"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","file":"dhtmlxgantt_quick_info.js","sourcesContent":["/*!\n * @license\n * \n * dhtmlxGantt v.5.0.5 Stardard\n * This software is covered by GPL license. You also can obtain Commercial or Enterprise license to use it in non-GPL project - please contact sales@dhtmlx.com. Usage without proper license is prohibited.\n * \n * (c) Dinamenta, UAB.\n * \n */\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 21);\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ 21:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(22);\n\n\n/***/ }),\n\n/***/ 22:\n/***/ (function(module, exports) {\n\ngantt.config.quickinfo_buttons = [\"icon_delete\",\"icon_edit\"];\ngantt.config.quick_info_detached = true;\ngantt.config.show_quick_info = true;\n\ngantt.attachEvent(\"onTaskClick\", function(id){\n\tsetTimeout(function() {\n\t\tgantt.showQuickInfo(id);\n\t}, 0);\n\t\n\treturn true;\n});\n\n(function(){\n\tvar events = [\"onEmptyClick\", \"onViewChange\", \"onLightbox\", \"onBeforeTaskDelete\", \"onBeforeDrag\"];\n\tvar hiding_function = function(){\n\t\tgantt._hideQuickInfo();\n\t\treturn true;\n\t};\n\tfor (var i=0; i<events.length; i++)\n\t\tgantt.attachEvent(events[i], hiding_function);\n})();\n\ngantt.templates.quick_info_title = function(start, end, ev){ return ev.text.substr(0,50); };\ngantt.templates.quick_info_content = function(start, end, ev){ return ev.details || ev.text; };\ngantt.templates.quick_info_date = function(start, end, ev){\n\t\treturn gantt.templates.task_time(start, end, ev);\n};\ngantt.templates.quick_info_class = function(start, end, task){ return \"\"; };\n\ngantt.showQuickInfo = function(id){\n\tif (id == this._quick_info_box_id || !this.config.show_quick_info) return;\n\tthis.hideQuickInfo(true);\n\tvar offset = 6; // offset TASK <> QI-BOX in 'px'\n\n\tvar pos = this._get_event_counter_part(id, offset);\n\t\n\tif (pos){\n\t\tthis._quick_info_box = this._init_quick_info(pos, id);\n\t\tthis._quick_info_task = id;\n\t\tthis._quick_info_box.className = gantt._prepare_quick_info_classname(id);\n\n\t\tthis._fill_quick_data(id);\n\t\tthis._show_quick_info(pos, offset);\n\t\tthis.callEvent(\"onQuickInfo\", [id]);\n\t}\n};\ngantt._hideQuickInfo = function(){\n\tgantt.hideQuickInfo();\n};\ngantt.hideQuickInfo = function(forced){\n\tvar qi = this._quick_info_box;\n\tthis._quick_info_box_id = 0;\n\tvar taskId = this._quick_info_task;\n\tthis._quick_info_task = null;\n\n\tif (qi && qi.parentNode){\n\n\t\tif (gantt.config.quick_info_detached) {\n\t\t\tthis.callEvent(\"onAfterQuickInfo\", [taskId]);\n\t\t\treturn qi.parentNode.removeChild(qi);\n\t\t}\n\n\t\tqi.className += \" gantt_qi_hidden\";\n\t\tif (qi.style.right == \"auto\")\n\t\t\tqi.style.left = \"-350px\";\n\t\telse\n\t\t\tqi.style.right = \"-350px\";\n\n\t\tif (forced) {\n\t\t\tqi.style.left = qi.style.right = \"\";\n\t\t\tqi.parentNode.removeChild(qi);\n\t\t}\n\t\tthis.callEvent(\"onAfterQuickInfo\", [taskId]);\n\t}\n};\ngantt.event(window, \"keydown\", function(e){\n\tif (e.keyCode == 27)\n\t\tgantt.hideQuickInfo();\n});\n\ngantt._show_quick_info = function(pos, offset){\n\tvar qi = gantt._quick_info_box;\n\tif (gantt.config.quick_info_detached){\n\t\tif (!qi.parentNode || \n\t\t\tqi.parentNode.nodeName.toLowerCase() == \"#document-fragment\")//IE8\n\t\t\tgantt.$task_data.appendChild(qi);\n\t\tvar width = qi.offsetWidth;\n\t\tvar height = qi.offsetHeight;\n\n\t\tvar scrolls = this.getScrollState();\n\t\tvar screen_width = this.$task.offsetWidth + scrolls.x - width;\n\n\t\t//pos.dy = (pos.top + height - scrolls.y > (gantt._y - gantt.config.scale_height)*0.96) ? 1 : 0; // uncomment to show QI at the bottom of task always\n\n\t\tqi.style.left = Math.min(Math.max(scrolls.x, pos.left - pos.dx*(width - pos.width)), screen_width) + \"px\";\n\t\tqi.style.top = pos.top - (pos.dy ? (height + pos.height + 2*offset) : 0) + \"px\";\n\t} else {\n\t\tqi.style.top = 20 + \"px\";\n\t\tif (pos.dx == 1){\n\t\t\tqi.style.right = \"auto\";\n\t\t\tqi.style.left = \"-300px\";\n\t\t\t\n\t\t\tsetTimeout(function(){\n\t\t\t\tqi.style.left = \"10px\";\n\t\t\t},1);\n\t\t} else {\n\t\t\tqi.style.left = \"auto\";\n\t\t\tqi.style.right = \"-300px\";\n\t\t\t\n\t\t\tsetTimeout(function(){\n\t\t\t\tqi.style.right = \"10px\";\n\t\t\t},1);\n\t\t}\n\t\tqi.className += \" gantt_qi_\"+(pos.dx == 1 ? \"left\" : \"right\");\n\t\tgantt.$root.appendChild(qi);\n\t}\n};\ngantt._prepare_quick_info_classname = function(id){\n\tvar task = gantt.getTask(id);\n\n\tvar css = \"gantt_cal_quick_info\",\n\t\ttemplate = this.templates.quick_info_class(task.start_date, task.end_date, task);\n\n\tif(template){\n\t\tcss += \" \" + template;\n\t}\n\treturn css;\n};\n\ngantt._init_quick_info = function(pos, id){\n\tvar task = gantt.getTask(id);\n\tif(typeof this._quick_info_readonly == \"boolean\"){\n\t\tif(this.isReadonly(task) !== this._quick_info_readonly){\n\t\t\tgantt.hideQuickInfo(true);\n\t\t\tthis._quick_info_box = null;\n\t\t}\n\t}\n\n\tthis._quick_info_readonly = this.isReadonly(task);\n\n\tif (!this._quick_info_box){\n\t\tvar qi = this._quick_info_box = document.createElement(\"div\");\n\n\t\tthis._waiAria.quickInfoAttr(qi);\n\n\n\t//title\n\t\tvar ariaAttr = gantt._waiAria.quickInfoHeaderAttrString();\n\t\tvar html = \"<div class=\\\"gantt_cal_qi_title\\\" \"+ariaAttr+\">\" +\n\t\t\t\"<div class=\\\"gantt_cal_qi_tcontent\\\"></div><div  class=\\\"gantt_cal_qi_tdate\\\"></div>\" +\n\t\t\t\"</div>\" +\n\t\t\t\"<div class=\\\"gantt_cal_qi_content\\\"></div>\";\n\n\t//buttons\n\t\thtml += \"<div class=\\\"gantt_cal_qi_controls\\\">\";\n\t\tvar buttons = gantt.config.quickinfo_buttons;\n\n\t\tvar is_editor = {\"icon_delete\":true,\"icon_edit\":true};\n\n\t\tfor (var i = 0; i < buttons.length; i++){\n\t\t\tif(this._quick_info_readonly && is_editor[buttons[i]])\n\t\t\t\tcontinue;\n\n\t\t\tvar ariaAttr = gantt._waiAria.quickInfoButtonAttrString(gantt.locale.labels[buttons[i]]);\n\n\t\t\thtml += \"<div class=\\\"gantt_qi_big_icon \"+buttons[i]+\"\\\" title=\\\"\"+gantt.locale.labels[buttons[i]]+\"\\\" \" + ariaAttr +\"><div class='gantt_menu_icon \" + buttons[i] + \"'></div><div>\"+gantt.locale.labels[buttons[i]]+\"</div></div>\";\n\t\t}\n\t\thtml += \"</div>\";\n\n\t\tqi.innerHTML = html;\n\n\t\tvar buttonClick = function(ev){\n\t\t\tev = ev || event;\n\t\t\tgantt._qi_button_click(ev.target || ev.srcElement);\n\t\t};\n\n\t\tgantt.event(qi, \"click\", buttonClick);\n\t\tgantt.event(qi, \"keypress\", function(e){\n\t\t\te = e || event;\n\t\t\tvar code = e.which||event.keyCode;\n\t\t\tif (code == 13 || code == 32){\n\t\t\t\tsetTimeout(function(){\n\t\t\t\t\tgantt._qi_button_click(e.target || e.srcElement);\n\t\t\t\t},1);\n\t\t\t}\n\t\t});\n\t\tif (gantt.config.quick_info_detached)\n\t\t\tgantt.event(gantt.$task_data, \"scroll\", function(){  gantt.hideQuickInfo(); });\n\t}\n\n\treturn this._quick_info_box;\n};\n\ngantt._qi_button_click = function(node){\n\tvar box = gantt._quick_info_box;\n\tif (!node || node == box) return;\n\n\tvar mask = node.className;\n\tif (mask.indexOf(\"_icon\")!=-1){\n\t\tvar id = gantt._quick_info_box_id;\n\t\tgantt.$click.buttons[mask.split(\" \")[1].replace(\"icon_\",\"\")](id);\n\t} else\n\t\tgantt._qi_button_click(node.parentNode);\n};\ngantt._get_event_counter_part = function(id, offset){\n\tvar domEv = gantt.getTaskNode(id);\n\tif (!domEv)\n\t\treturn null;\n\tvar left = 0;\n\tvar top = offset + domEv.offsetTop + domEv.offsetHeight;\n\n\tvar node = domEv;\n\twhile (node && node.className != \"gantt_task\"){\n\t\tleft += node.offsetLeft;\n\t \tnode = node.offsetParent;\n\t}\n\t\n\tvar scroll = this.getScrollState();\n\n\tif(node){\n\t\tvar dx = (left + domEv.offsetWidth/2) - scroll.x > (gantt.$container.offsetWidth/2) ? 1 : 0;\n\t\tvar dy = (top + domEv.offsetHeight/2) - scroll.y > (gantt.$container.offsetHeight/2) ? 1 : 0;\n\n\t\treturn { left:left, top:top, dx:dx, dy:dy,\n\t\t\twidth:domEv.offsetWidth, height:domEv.offsetHeight };\n\t}\n\treturn null;\n};\n\ngantt._fill_quick_data  = function(id){\n\tvar ev = gantt.getTask(id);\n\tvar qi = gantt._quick_info_box;\n\n\tgantt._quick_info_box_id = id;\n\n//title content\n\n\tvar header = {\n\t\tcontent: gantt.templates.quick_info_title(ev.start_date, ev.end_date, ev),\n\t\tdate: gantt.templates.quick_info_date(ev.start_date, ev.end_date, ev)\n\t};\n\tvar titleContent = qi.firstChild.firstChild;\n\ttitleContent.innerHTML = header.content;\n\tvar titleDate = titleContent.nextSibling;\n\ttitleDate.innerHTML = header.date;\n\n\n\tgantt._waiAria.quickInfoHeader(qi, [header.content, header.date].join(\" \"));\n\n//main content\n\tvar main = qi.firstChild.nextSibling;\n\tmain.innerHTML = gantt.templates.quick_info_content(ev.start_date, ev.end_date, ev);\n};\n\n\n/***/ })\n\n/******/ });\n\n\n// WEBPACK FOOTER //\n// dhtmlxgantt_quick_info.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 21);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 4a949578cbbb066f713d","gantt.config.quickinfo_buttons = [\"icon_delete\",\"icon_edit\"];\ngantt.config.quick_info_detached = true;\ngantt.config.show_quick_info = true;\n\ngantt.attachEvent(\"onTaskClick\", function(id){\n\tsetTimeout(function() {\n\t\tgantt.showQuickInfo(id);\n\t}, 0);\n\t\n\treturn true;\n});\n\n(function(){\n\tvar events = [\"onEmptyClick\", \"onViewChange\", \"onLightbox\", \"onBeforeTaskDelete\", \"onBeforeDrag\"];\n\tvar hiding_function = function(){\n\t\tgantt._hideQuickInfo();\n\t\treturn true;\n\t};\n\tfor (var i=0; i<events.length; i++)\n\t\tgantt.attachEvent(events[i], hiding_function);\n})();\n\ngantt.templates.quick_info_title = function(start, end, ev){ return ev.text.substr(0,50); };\ngantt.templates.quick_info_content = function(start, end, ev){ return ev.details || ev.text; };\ngantt.templates.quick_info_date = function(start, end, ev){\n\t\treturn gantt.templates.task_time(start, end, ev);\n};\ngantt.templates.quick_info_class = function(start, end, task){ return \"\"; };\n\ngantt.showQuickInfo = function(id){\n\tif (id == this._quick_info_box_id || !this.config.show_quick_info) return;\n\tthis.hideQuickInfo(true);\n\tvar offset = 6; // offset TASK <> QI-BOX in 'px'\n\n\tvar pos = this._get_event_counter_part(id, offset);\n\t\n\tif (pos){\n\t\tthis._quick_info_box = this._init_quick_info(pos, id);\n\t\tthis._quick_info_task = id;\n\t\tthis._quick_info_box.className = gantt._prepare_quick_info_classname(id);\n\n\t\tthis._fill_quick_data(id);\n\t\tthis._show_quick_info(pos, offset);\n\t\tthis.callEvent(\"onQuickInfo\", [id]);\n\t}\n};\ngantt._hideQuickInfo = function(){\n\tgantt.hideQuickInfo();\n};\ngantt.hideQuickInfo = function(forced){\n\tvar qi = this._quick_info_box;\n\tthis._quick_info_box_id = 0;\n\tvar taskId = this._quick_info_task;\n\tthis._quick_info_task = null;\n\n\tif (qi && qi.parentNode){\n\n\t\tif (gantt.config.quick_info_detached) {\n\t\t\tthis.callEvent(\"onAfterQuickInfo\", [taskId]);\n\t\t\treturn qi.parentNode.removeChild(qi);\n\t\t}\n\n\t\tqi.className += \" gantt_qi_hidden\";\n\t\tif (qi.style.right == \"auto\")\n\t\t\tqi.style.left = \"-350px\";\n\t\telse\n\t\t\tqi.style.right = \"-350px\";\n\n\t\tif (forced) {\n\t\t\tqi.style.left = qi.style.right = \"\";\n\t\t\tqi.parentNode.removeChild(qi);\n\t\t}\n\t\tthis.callEvent(\"onAfterQuickInfo\", [taskId]);\n\t}\n};\ngantt.event(window, \"keydown\", function(e){\n\tif (e.keyCode == 27)\n\t\tgantt.hideQuickInfo();\n});\n\ngantt._show_quick_info = function(pos, offset){\n\tvar qi = gantt._quick_info_box;\n\tif (gantt.config.quick_info_detached){\n\t\tif (!qi.parentNode || \n\t\t\tqi.parentNode.nodeName.toLowerCase() == \"#document-fragment\")//IE8\n\t\t\tgantt.$task_data.appendChild(qi);\n\t\tvar width = qi.offsetWidth;\n\t\tvar height = qi.offsetHeight;\n\n\t\tvar scrolls = this.getScrollState();\n\t\tvar screen_width = this.$task.offsetWidth + scrolls.x - width;\n\n\t\t//pos.dy = (pos.top + height - scrolls.y > (gantt._y - gantt.config.scale_height)*0.96) ? 1 : 0; // uncomment to show QI at the bottom of task always\n\n\t\tqi.style.left = Math.min(Math.max(scrolls.x, pos.left - pos.dx*(width - pos.width)), screen_width) + \"px\";\n\t\tqi.style.top = pos.top - (pos.dy ? (height + pos.height + 2*offset) : 0) + \"px\";\n\t} else {\n\t\tqi.style.top = 20 + \"px\";\n\t\tif (pos.dx == 1){\n\t\t\tqi.style.right = \"auto\";\n\t\t\tqi.style.left = \"-300px\";\n\t\t\t\n\t\t\tsetTimeout(function(){\n\t\t\t\tqi.style.left = \"10px\";\n\t\t\t},1);\n\t\t} else {\n\t\t\tqi.style.left = \"auto\";\n\t\t\tqi.style.right = \"-300px\";\n\t\t\t\n\t\t\tsetTimeout(function(){\n\t\t\t\tqi.style.right = \"10px\";\n\t\t\t},1);\n\t\t}\n\t\tqi.className += \" gantt_qi_\"+(pos.dx == 1 ? \"left\" : \"right\");\n\t\tgantt.$root.appendChild(qi);\n\t}\n};\ngantt._prepare_quick_info_classname = function(id){\n\tvar task = gantt.getTask(id);\n\n\tvar css = \"gantt_cal_quick_info\",\n\t\ttemplate = this.templates.quick_info_class(task.start_date, task.end_date, task);\n\n\tif(template){\n\t\tcss += \" \" + template;\n\t}\n\treturn css;\n};\n\ngantt._init_quick_info = function(pos, id){\n\tvar task = gantt.getTask(id);\n\tif(typeof this._quick_info_readonly == \"boolean\"){\n\t\tif(this.isReadonly(task) !== this._quick_info_readonly){\n\t\t\tgantt.hideQuickInfo(true);\n\t\t\tthis._quick_info_box = null;\n\t\t}\n\t}\n\n\tthis._quick_info_readonly = this.isReadonly(task);\n\n\tif (!this._quick_info_box){\n\t\tvar qi = this._quick_info_box = document.createElement(\"div\");\n\n\t\tthis._waiAria.quickInfoAttr(qi);\n\n\n\t//title\n\t\tvar ariaAttr = gantt._waiAria.quickInfoHeaderAttrString();\n\t\tvar html = \"<div class=\\\"gantt_cal_qi_title\\\" \"+ariaAttr+\">\" +\n\t\t\t\"<div class=\\\"gantt_cal_qi_tcontent\\\"></div><div  class=\\\"gantt_cal_qi_tdate\\\"></div>\" +\n\t\t\t\"</div>\" +\n\t\t\t\"<div class=\\\"gantt_cal_qi_content\\\"></div>\";\n\n\t//buttons\n\t\thtml += \"<div class=\\\"gantt_cal_qi_controls\\\">\";\n\t\tvar buttons = gantt.config.quickinfo_buttons;\n\n\t\tvar is_editor = {\"icon_delete\":true,\"icon_edit\":true};\n\n\t\tfor (var i = 0; i < buttons.length; i++){\n\t\t\tif(this._quick_info_readonly && is_editor[buttons[i]])\n\t\t\t\tcontinue;\n\n\t\t\tvar ariaAttr = gantt._waiAria.quickInfoButtonAttrString(gantt.locale.labels[buttons[i]]);\n\n\t\t\thtml += \"<div class=\\\"gantt_qi_big_icon \"+buttons[i]+\"\\\" title=\\\"\"+gantt.locale.labels[buttons[i]]+\"\\\" \" + ariaAttr +\"><div class='gantt_menu_icon \" + buttons[i] + \"'></div><div>\"+gantt.locale.labels[buttons[i]]+\"</div></div>\";\n\t\t}\n\t\thtml += \"</div>\";\n\n\t\tqi.innerHTML = html;\n\n\t\tvar buttonClick = function(ev){\n\t\t\tev = ev || event;\n\t\t\tgantt._qi_button_click(ev.target || ev.srcElement);\n\t\t};\n\n\t\tgantt.event(qi, \"click\", buttonClick);\n\t\tgantt.event(qi, \"keypress\", function(e){\n\t\t\te = e || event;\n\t\t\tvar code = e.which||event.keyCode;\n\t\t\tif (code == 13 || code == 32){\n\t\t\t\tsetTimeout(function(){\n\t\t\t\t\tgantt._qi_button_click(e.target || e.srcElement);\n\t\t\t\t},1);\n\t\t\t}\n\t\t});\n\t\tif (gantt.config.quick_info_detached)\n\t\t\tgantt.event(gantt.$task_data, \"scroll\", function(){  gantt.hideQuickInfo(); });\n\t}\n\n\treturn this._quick_info_box;\n};\n\ngantt._qi_button_click = function(node){\n\tvar box = gantt._quick_info_box;\n\tif (!node || node == box) return;\n\n\tvar mask = node.className;\n\tif (mask.indexOf(\"_icon\")!=-1){\n\t\tvar id = gantt._quick_info_box_id;\n\t\tgantt.$click.buttons[mask.split(\" \")[1].replace(\"icon_\",\"\")](id);\n\t} else\n\t\tgantt._qi_button_click(node.parentNode);\n};\ngantt._get_event_counter_part = function(id, offset){\n\tvar domEv = gantt.getTaskNode(id);\n\tif (!domEv)\n\t\treturn null;\n\tvar left = 0;\n\tvar top = offset + domEv.offsetTop + domEv.offsetHeight;\n\n\tvar node = domEv;\n\twhile (node && node.className != \"gantt_task\"){\n\t\tleft += node.offsetLeft;\n\t \tnode = node.offsetParent;\n\t}\n\t\n\tvar scroll = this.getScrollState();\n\n\tif(node){\n\t\tvar dx = (left + domEv.offsetWidth/2) - scroll.x > (gantt.$container.offsetWidth/2) ? 1 : 0;\n\t\tvar dy = (top + domEv.offsetHeight/2) - scroll.y > (gantt.$container.offsetHeight/2) ? 1 : 0;\n\n\t\treturn { left:left, top:top, dx:dx, dy:dy,\n\t\t\twidth:domEv.offsetWidth, height:domEv.offsetHeight };\n\t}\n\treturn null;\n};\n\ngantt._fill_quick_data  = function(id){\n\tvar ev = gantt.getTask(id);\n\tvar qi = gantt._quick_info_box;\n\n\tgantt._quick_info_box_id = id;\n\n//title content\n\n\tvar header = {\n\t\tcontent: gantt.templates.quick_info_title(ev.start_date, ev.end_date, ev),\n\t\tdate: gantt.templates.quick_info_date(ev.start_date, ev.end_date, ev)\n\t};\n\tvar titleContent = qi.firstChild.firstChild;\n\ttitleContent.innerHTML = header.content;\n\tvar titleDate = titleContent.nextSibling;\n\ttitleDate.innerHTML = header.date;\n\n\n\tgantt._waiAria.quickInfoHeader(qi, [header.content, header.date].join(\" \"));\n\n//main content\n\tvar main = qi.firstChild.nextSibling;\n\tmain.innerHTML = gantt.templates.quick_info_content(ev.start_date, ev.end_date, ev);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./sources/ext/quick_info.js\n// module id = 22\n// module chunks = 4"],"sourceRoot":""}