{"version":3,"sources":["webpack:///dhtmlxgantt_keyboard_navigation.js","webpack:///webpack/bootstrap 4a949578cbbb066f713d","webpack:///./sources/utils/dom_helpers.js","webpack:///./sources/ext/keyboard_navigation.js","webpack:///./sources/ext/keyboard_navigation/common/keyboard_shortcuts.js","webpack:///./sources/ext/keyboard_navigation/common/eventhandler.js","webpack:///./sources/ext/keyboard_navigation/common/trap_modal_focus.js","webpack:///./sources/ext/keyboard_navigation/elements/gantt_node.js","webpack:///./sources/ext/keyboard_navigation/elements/nav_node.js","webpack:///./sources/ext/keyboard_navigation/elements/header_cell.js","webpack:///./sources/ext/keyboard_navigation/elements/task_row.js","webpack:///./sources/ext/keyboard_navigation/elements/task_cell.js","webpack:///./sources/ext/keyboard_navigation/modals.js","webpack:///./sources/ext/keyboard_navigation/core.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","elementPosition","elem","top","left","right","bottom","getBoundingClientRect","box","body","document","docElem","documentElement","parentNode","scrollTop","window","pageYOffset","scrollLeft","pageXOffset","clientTop","clientLeft","offsetWidth","offsetHeight","parseInt","offsetTop","offsetLeft","offsetParent","y","Math","round","x","width","height","isVisible","node","display","visibility","getComputedStyle","style","currentStyle","hasNonNegativeTabIndex","isNaN","getAttribute","hasHref","a","area","nodeName","loLowerCase","isEnabled","input","select","textarea","button","toLowerCase","hasAttribute","getFocusableNodes","root","nodes","querySelectorAll","join","nodesArray","Array","slice","length","splice","getScrollSize","div","createElement","cssText","appendChild","clientWidth","removeChild","getClassName","className","baseVal","indexOf","_trimString","addClassName","removeClassName","split","regEx","RegExp","replace","toNode","getElementById","querySelector","insert","newone","_slave","innerHTML","child","firstChild","remove","getChildren","css","ch","childNodes","len","out","obj","push","getTargetNode","e","trg","tagName","event","target","srcElement","locateAttribute","attribute","str","String","trim","this","apply","locateClassName","classname","strict","undefined","ind","charAt","getRelativeEventPosition","ev","pageX","pageY","pos","clientX","clientY","isChildOf","parent","getNodePosition","insertNode","removeNode","getChildNodes","setupKeyNav","gantt","getScope","mode","scopes","$keyboardNavigation","GanttNode","headerCell","HeaderCell","taskRow","TaskRow","taskCell","config","keyboard_navigation","keyboard_navigation_cells","addShortcut","shortcut","handler","scope","scopeObject","bind","getShortcutHandler","commands","shortcuts","parse","findHandler","removeShortcut","unbind","focus","disp","dispatcher","enable","getActiveNode","focusNode","setDefaultNode","_compose","parts","arguments","res","keyDownHandler","focusHandler","focusGlobalNode","attachEvent","activeNode","eventRemove","$container","setAttribute","removeAttribute","onReady","detachEvent","refreshTask","id","currentNode","taskId","_smart_render","updateRender","_redrawItems","renderers","items","item","setActiveNode","setInterval","focusElement","activeElement","_locate_css","disable","Gantt","plugin","createCommand","modifiers","shift","alt","ctrl","meta","keyCode","expr","getExpressions","words","getWords","command","j","commandKeys","specialKeys","charCodeAt","getCommandFromEvent","domEvent","shiftKey","altKey","ctrlKey","metaKey","which","printableKey","fromCharCode","getHashFromEvent","getHash","junctionChar","term","combinationChar","backspace","tab","enter","esc","space","up","down","home","end","pageup","pagedown","delete","plus","f1","f2","f3","f4","f5","f6","f7","f8","f9","f10","f11","f12","EventHandler","_handlers","hash","doAction","preventDefault","returnValue","bindAll","map","initKeys","keys","domHelpers","trapFocus","focusable","currentFocus","currentIndex","lastItem","firstItem","blur","scrollHorizontal","dir","date","dateFromPos","getScrollState","step","add","scale_unit","scrollTo","posFromDate","scrollVertical","row_height","alt+left","alt+right","alt+up","alt+down","ctrl+z","undo","ctrl+r","redo","KeyNavNode","isValid","fallback","moveTo","element","compareTo","b","canStringifyThis","toString","canStringifyThat","getNode","index","show_grid","getVisibleTaskCount","getGridColumns","visibleColumns","$grid_scale","columns","rootLevel","root_id","TaskCell","enter, space","click","ctrl+enter","createTask","isTaskExists","getTaskIndex","header","nextIndex","getTaskByIndex","isTaskVisible","$grid","task_attribute","getTaskNode","_isNodeVisible","getTaskPosition","getTask","scroll","inner_height","show_chart","inner_width","showTask","nextElement","prevTask","getPrev","nextTask","getNext","getState","selected_task","selectTask","unselectTask","ctrl+left","close","ctrl+right","open","$click","buttons","showLightbox","columnIndex","isModal","modalsStack","afterPopup","setTimeout","startModal","endModal","pop","isTopModal","currentTarget","traceLightbox","getLightbox","saveFocus","restoreFocus","isActive","globalNode","getDefaultNode","blurNode","el","ganttNode"],"mappings":"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","file":"dhtmlxgantt_keyboard_navigation.js","sourcesContent":["/*!\n * @license\n * \n * dhtmlxGantt v.5.0.5 Stardard\n * This software is covered by GPL license. You also can obtain Commercial or Enterprise license to use it in non-GPL project - please contact sales@dhtmlx.com. Usage without proper license is prohibited.\n * \n * (c) Dinamenta, UAB.\n * \n */\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 5);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\n//returns position of html element on the page\nfunction elementPosition(elem) {\n\tvar top=0, left=0, right=0, bottom=0;\n\tif (elem.getBoundingClientRect) { //HTML5 method\n\t\tvar box = elem.getBoundingClientRect();\n\t\tvar body = document.body;\n\t\tvar docElem = (document.documentElement ||\n\t\t\tdocument.body.parentNode ||\n\t\t\tdocument.body);\n\n\t\tvar scrollTop = window.pageYOffset || docElem.scrollTop || body.scrollTop;\n\t\tvar scrollLeft = window.pageXOffset || docElem.scrollLeft || body.scrollLeft;\n\t\tvar clientTop = docElem.clientTop || body.clientTop || 0;\n\t\tvar clientLeft = docElem.clientLeft || body.clientLeft || 0;\n\t\ttop  = box.top +  scrollTop - clientTop;\n\t\tleft = box.left + scrollLeft - clientLeft;\n\n\t\tright = document.body.offsetWidth - box.right;\n\t\tbottom = document.body.offsetHeight - box.bottom;\n\t} else { //fallback to naive approach\n\t\twhile(elem) {\n\t\t\ttop = top + parseInt(elem.offsetTop,10);\n\t\t\tleft = left + parseInt(elem.offsetLeft,10);\n\t\t\telem = elem.offsetParent;\n\t\t}\n\n\t\tright = document.body.offsetWidth - elem.offsetWidth - left;\n\t\tbottom = document.body.offsetHeight - elem.offsetHeight - top;\n\t}\n\treturn { y: Math.round(top), x: Math.round(left), width:elem.offsetWidth, height:elem.offsetHeight, right: Math.round(right), bottom: Math.round(bottom) };\n}\n\nfunction isVisible(node){\n\tvar display = false,\n\t\tvisibility = false;\n\tif(window.getComputedStyle){\n\t\tvar style = window.getComputedStyle(node, null);\n\t\tdisplay = style[\"display\"];\n\t\tvisibility = style[\"visibility\"];\n\t}else if(node.currentStyle){\n\t\tdisplay = node.currentStyle[\"display\"];\n\t\tvisibility = node.currentStyle[\"visibility\"];\n\t}\n\treturn (display != \"none\" && visibility != \"hidden\");\n}\n\nfunction hasNonNegativeTabIndex(node){\n\treturn !isNaN(node.getAttribute(\"tabindex\")) && (node.getAttribute(\"tabindex\")*1 >= 0);\n}\n\nfunction hasHref(node){\n\tvar canHaveHref = {\"a\": true, \"area\": true};\n\tif(canHaveHref[node.nodeName.loLowerCase()]){\n\t\treturn !!node.getAttribute(\"href\");\n\t}\n\treturn true;\n}\n\nfunction isEnabled(node){\n\tvar canDisable = {\"input\":true, \"select\":true, \"textarea\":true, \"button\":true, \"object\":true};\n\tif(canDisable[node.nodeName.toLowerCase()]){\n\t\treturn !node.hasAttribute(\"disabled\");\n\t}\n\n\treturn true;\n}\n\nfunction getFocusableNodes(root){\n\tvar nodes = root.querySelectorAll([\n\t\t\"a[href]\",\n\t\t\"area[href]\",\n\t\t\"input\",\n\t\t\"select\",\n\t\t\"textarea\",\n\t\t\"button\",\n\t\t\"iframe\",\n\t\t\"object\",\n\t\t\"embed\",\n\t\t\"[tabindex]\",\n\t\t\"[contenteditable]\"\n\t].join(\", \"));\n\n\tvar nodesArray = Array.prototype.slice.call(nodes, 0);\n\tfor(var i = 0; i < nodesArray.length; i++){\n\t\tvar node = nodesArray[i];\n\t\tvar isValid = (hasNonNegativeTabIndex(node)  || isEnabled(node) || hasHref(node)) && isVisible(node);\n\t\tif(!isValid){\n\t\t\tnodesArray.splice(i, 1);\n\t\t\ti--;\n\t\t}\n\t}\n\treturn nodesArray;\n}\n\nfunction getScrollSize(){\n\tvar div = document.createElement(\"div\");\n\tdiv.style.cssText=\"visibility:hidden;position:absolute;left:-1000px;width:100px;padding:0px;margin:0px;height:110px;min-height:100px;overflow-y:scroll;\";\n\n\tdocument.body.appendChild(div);\n\tvar width = div.offsetWidth-div.clientWidth;\n\tdocument.body.removeChild(div);\n\n\treturn width;\n}\n\nfunction getClassName(node){\n\tif(!node) return \"\";\n\n\tvar className = node.className || \"\";\n\tif(className.baseVal)//'className' exist but not a string - IE svg element in DOM\n\t\tclassName = className.baseVal;\n\n\tif(!className.indexOf)\n\t\tclassName = '';\n\n\treturn _trimString(className);\n}\n\nfunction addClassName(node, className){\n\tif (className && node.className.indexOf(className) === -1) {\n\t\tnode.className += \" \" + className;\n\t}\n}\n\nfunction removeClassName(node, name) {\n\tname = name.split(\" \");\n\tfor (var i = 0; i < name.length; i++) {\n\t\tvar regEx = new RegExp('\\\\s?\\\\b' + name[i] + '\\\\b(?![-_\\.])', \"\");\n\t\tnode.className = node.className.replace(regEx, \"\");\n\t}\n}\n\nfunction toNode(node) {\n\tif (typeof node === \"string\") {\n\t\treturn (document.getElementById(node) || document.querySelector(node) || document.body);\n\t}\n\treturn node || document.body;\n}\n\nvar _slave = document.createElement(\"div\");\nfunction insert(node, newone) {\n\t_slave.innerHTML = newone;\n\tvar child = _slave.firstChild;\n\tnode.appendChild(child);\n\treturn child;\n}\n\nfunction remove(node) {\n\tif (node && node.parentNode) {\n\t\tnode.parentNode.removeChild(node);\n\t}\n}\n\nfunction getChildren(node, css) {\n\tvar ch = node.childNodes;\n\tvar len = ch.length;\n\tvar out = [];\n\tfor (var i = 0; i < len; i++) {\n\t\tvar obj = ch[i];\n\t\tif (obj.className && obj.className.indexOf(css) !== -1) {\n\t\t\tout.push(obj);\n\t\t}\n\t}\n\treturn out;\n}\n\nfunction getTargetNode(e){\n\tvar trg;\n\tif (e.tagName)\n\t\ttrg = e;\n\telse {\n\t\te=e||window.event;\n\t\ttrg=e.target||e.srcElement;\n\t}\n\treturn trg;\n}\n\nfunction locateAttribute(e, attribute) {\n\tif(!attribute) return;\n\n\tvar trg = getTargetNode(e);\n\n\twhile (trg){\n\t\tif (trg.getAttribute){\t//text nodes has not getAttribute\n\t\t\tvar test = trg.getAttribute(attribute);\n\t\t\tif (test) return trg;\n\t\t}\n\t\ttrg=trg.parentNode;\n\t}\n\treturn null;\n}\n\nfunction _trimString(str){\n\tvar func = String.prototype.trim || function(){ return this.replace(/^\\s+|\\s+$/g, \"\"); };\n\treturn func.apply(str);\n}\n\nfunction locateClassName(e, classname, strict){\n\tif(strict === undefined)\n\t\tstrict = true;\n\n\tvar trg = getTargetNode(e);\n\tvar css = '';\n\tvar test = false;\n\twhile (trg){\n\t\tcss = getClassName(trg);\n\n\t\tif(css){\n\t\t\tvar ind = css.indexOf(classname);\n\t\t\tif (ind >= 0){\n\t\t\t\tif (!strict)\n\t\t\t\t\treturn trg;\n\n\t\t\t\t//check that we have exact match\n\t\t\t\tvar left = (ind === 0) || (!_trimString(css.charAt(ind - 1)));\n\t\t\t\tvar right = ((ind + classname.length >= css.length)) || (!_trimString(css.charAt(ind + classname.length)));\n\n\t\t\t\tif (left && right)\n\t\t\t\t\treturn trg;\n\t\t\t}\n\t\t}\n\n\t\ttrg=trg.parentNode;\n\t}\n\treturn null;\n}\n\n/*\nevent position relatively to DOM element\n */\nfunction getRelativeEventPosition(ev, node){\n\tif (ev.pageX || ev.pageY)\n\t\tvar pos = {x: ev.pageX, y: ev.pageY};\n\n\tvar d = document.documentElement;\n\tvar pos = {\n\t\tx: ev.clientX + d.scrollLeft - d.clientLeft,\n\t\ty: ev.clientY + d.scrollTop - d.clientTop\n\t};\n\n\tvar box = elementPosition(node);\n\tpos.x = pos.x - box.x + node.scrollLeft;\n\tpos.y = pos.y - box.y + node.scrollTop;\n\treturn pos;\n}\n\n\nfunction isChildOf(child, parent){\n\twhile(child && child != parent) {\n\t\tchild = child.parentNode;\n\t}\n\treturn child == parent;\n}\n\nmodule.exports = {\n\tgetNodePosition: elementPosition,\n\tgetFocusableNodes: getFocusableNodes,\n\tgetScrollSize: getScrollSize,\n\tgetClassName: getClassName,\n\taddClassName: addClassName,\n\tremoveClassName: removeClassName,\n\tinsertNode: insert,\n\tremoveNode: remove,\n\tgetChildNodes: getChildren,\n\ttoNode: toNode,\n\tlocateClassName:locateClassName,\n\tlocateAttribute: locateAttribute,\n\tgetTargetNode: getTargetNode,\n\tgetRelativeEventPosition: getRelativeEventPosition,\n\tisChildOf: isChildOf,\n};\n\n/***/ }),\n/* 1 */,\n/* 2 */,\n/* 3 */,\n/* 4 */,\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(6);\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n(function(){\n\tfunction setupKeyNav(gantt){\n\t\tgantt.config.keyboard_navigation = true;\n\t\tgantt.config.keyboard_navigation_cells = false;\n\n\t\tgantt.addShortcut = function(shortcut, handler, scope){\n\t\t\tvar scopeObject = getScope(scope);\n\t\t\tif(scopeObject){\n\t\t\t\tscopeObject.prototype.bind(shortcut, handler);\n\t\t\t}\n\t\t};\n\n\t\tgantt.getShortcutHandler = function(shortcut, scope){\n\t\t\tvar scopeObject = getScope(scope);\n\t\t\tif(scopeObject){\n\t\t\t\tvar commands = gantt.$keyboardNavigation.shortcuts.parse(shortcut);\n\t\t\t\tif(commands.length){\n\t\t\t\t\treturn scopeObject.prototype.findHandler(commands[0]);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tgantt.removeShortcut = function(shortcut, scope){\n\t\t\tvar scopeObject = getScope(scope);\n\t\t\tif(scopeObject){\n\t\t\t\tscopeObject.prototype.unbind(shortcut);\n\t\t\t}\n\t\t};\n\n\t\tgantt.focus = function(){\n\n\t\t\tvar disp = gantt.$keyboardNavigation.dispatcher;\n\t\t\tdisp.enable();\n\t\t\tif(!disp.getActiveNode()){\n\t\t\t\tdisp.setDefaultNode();\n\t\t\t}else{\n\t\t\t\tdisp.focusNode(disp.getActiveNode());\n\t\t\t}\n\n\t\t};\n\n\n\n\t\tfunction getScope(mode){\n\t\t\tvar scopes = {\n\t\t\t\t\"gantt\":gantt.$keyboardNavigation.GanttNode,\n\t\t\t\t\"headerCell\": gantt.$keyboardNavigation.HeaderCell,\n\t\t\t\t\"taskRow\": gantt.$keyboardNavigation.TaskRow,\n\t\t\t\t\"taskCell\": gantt.$keyboardNavigation.HeaderCell\n\t\t\t};\n\n\t\t\treturn scopes[mode] || scopes.gantt;\n\t\t}\n\n\t\tgantt.$keyboardNavigation = {};\n\n\t\tgantt._compose = function(){\n\t\t\tvar parts = Array.prototype.slice.call(arguments, 0);\n\t\t\tvar res = {};\n\t\t\tfor(var i = 0; i < parts.length; i++){\n\t\t\t\tvar obj = parts[i];\n\t\t\t\tif(typeof obj == \"function\"){\n\t\t\t\t\tobj = new obj();\n\t\t\t\t}\n\n\t\t\t\tfor(var p in obj){\n\t\t\t\t\tres[p] = obj[p];\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn res;\n\t\t};\n\n\t\t__webpack_require__ (7)(gantt);\n\t\t__webpack_require__ (8)(gantt);\n\t\t__webpack_require__ (9)(gantt);\n\t\t__webpack_require__ (10)(gantt);\n\t\t__webpack_require__ (11)(gantt);\n\t\t__webpack_require__ (12)(gantt);\n\t\t__webpack_require__ (13)(gantt);\n\t\t__webpack_require__ (14)(gantt);\n\t\t__webpack_require__ (15)(gantt);\n\t\t__webpack_require__ (16)(gantt);\n\n\t\t(function(){\n\t\t\tvar dispatcher = gantt.$keyboardNavigation.dispatcher;\n\n\t\t\tvar keyDownHandler = function(e){\n\t\t\t\tif(!gantt.config.keyboard_navigation) return;\n\n\t\t\t\treturn dispatcher.keyDownHandler(e);\n\t\t\t};\n\n\t\t\tvar focusHandler = function(){\n\t\t\t\tdispatcher.focusGlobalNode();\n\t\t\t};\n\n\t\t\tgantt.attachEvent(\"onDataRender\", function(){\n\t\t\t\tif(!gantt.config.keyboard_navigation) return;\n\t\t\t\tif(dispatcher.isEnabled()){\n\t\t\t\t\tvar activeNode = dispatcher.getActiveNode();\n\t\t\t\t\tif(activeNode){\n\t\t\t\t\t\tactiveNode.focus();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tgantt.attachEvent(\"onGanttRender\", function(){\n\t\t\t\tgantt.eventRemove(document, \"keydown\", keyDownHandler);\n\t\t\t\tgantt.eventRemove(gantt.$container, \"focus\", focusHandler);\n\n\n\t\t\t\tif(gantt.config.keyboard_navigation){\n\n\t\t\t\t\tgantt.event(document, \"keydown\", keyDownHandler);\n\t\t\t\t\tgantt.event(gantt.$container, \"focus\", focusHandler);\n\n\t\t\t\t\tgantt.$container.setAttribute(\"tabindex\", \"0\");\n\n\t\t\t\t}else{\n\t\t\t\t\tgantt.$container.removeAttribute(\"tabindex\");\n\t\t\t\t}\n\t\t\t});\n\n\n\t\t\tvar onReady = gantt.attachEvent(\"onGanttReady\", function(){\n\t\t\t\t// restore focus on repainted tasks\n\t\t\t\tgantt.detachEvent(onReady);\n\n\t\t\t\tvar refreshTask = gantt.refreshTask;\n\t\t\t\tgantt.refreshTask = function(id){\n\t\t\t\t\tvar res = refreshTask.apply(this, arguments);\n\t\t\t\t\tif(gantt.config.keyboard_navigation && dispatcher.isEnabled()){\n\t\t\t\t\t\tvar currentNode = dispatcher.getActiveNode();\n\t\t\t\t\t\tif(currentNode && currentNode.taskId == id){\n\t\t\t\t\t\t\tdispatcher.focusNode(currentNode);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t\treturn res;\n\t\t\t\t};\n\n\t\t\t\tif(gantt._smart_render){\n\t\t\t\t\tvar updateRender = gantt._smart_render._redrawItems;\n\t\t\t\t\tgantt._smart_render._redrawItems = function(renderers, items){\n\t\t\t\t\t\tvar res = updateRender.apply(this, arguments);\n\t\t\t\t\t\tif(gantt.config.keyboard_navigation && dispatcher.isEnabled()){\n\t\t\t\t\t\t\tvar currentNode = dispatcher.getActiveNode();\n\t\t\t\t\t\t\tif(currentNode && currentNode.taskId !== undefined){\n\t\t\t\t\t\t\t\tfor(var i = 0; i < items.length; i++){\n\t\t\t\t\t\t\t\t\tif(items[i].id == currentNode.taskId){\n\t\t\t\t\t\t\t\t\t\tdispatcher.focusNode(currentNode);\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn res;\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t});\n\n\n\n\t\t\tgantt.attachEvent(\"onAfterTaskAdd\", function(id,item){\n\t\t\t\tif(!gantt.config.keyboard_navigation) return true;\n\t\t\t\tif(dispatcher.isEnabled()){\n\t\t\t\t\tdispatcher.setActiveNode(new gantt.$keyboardNavigation.TaskRow(id));\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tgantt.attachEvent(\"onTaskClick\", function(id){\n\t\t\t\tif(!gantt.config.keyboard_navigation) return true;\n\t\t\t\tdispatcher.enable();\n\t\t\t\tdispatcher.setActiveNode(new gantt.$keyboardNavigation.TaskRow(id));\n\t\t\t\treturn true;\n\t\t\t});\n\n\t\t\tgantt.attachEvent(\"onEmptyClick\", function(){\n\t\t\t\tif(!gantt.config.keyboard_navigation) return true;\n\t\t\t\tdispatcher.enable();\n\t\t\t});\n\n\t\t\tsetInterval(function(){\n\t\t\t\tif(!gantt.config.keyboard_navigation) return;\n\n\t\t\t\tvar enable;\n\t\t\t\tvar focusElement = document.activeElement;\n\n\t\t\t\tvar parent = gantt.$container;\n\t\t\t\t// halt key nav when focus is outside gantt or in quick info popup\n\t\t\t\tif(!focusElement || gantt._locate_css(focusElement, \"gantt_cal_quick_info\")){\n\t\t\t\t\tenable = false;\n\t\t\t\t}else{\n\t\t\t\t\twhile(focusElement != parent &&  focusElement){\n\t\t\t\t\t\tfocusElement = focusElement.parentNode;\n\t\t\t\t\t}\n\n\t\t\t\t\tif(focusElement == parent){\n\t\t\t\t\t\tenable = true;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tenable = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(enable && !dispatcher.isEnabled()){\n\t\t\t\t\tdispatcher.enable();\n\t\t\t\t}else if(!enable && dispatcher.isEnabled()){\n\t\t\t\t\tdispatcher.disable();\n\t\t\t\t}\n\n\t\t\t}, 500);\n\n\t\t})();\n\n\t}\n\n\n\tif(window.Gantt){\n\t\twindow.Gantt.plugin(setupKeyNav);\n\t}else{\n\t\tsetupKeyNav(window.gantt);\n\t}\n})();\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports) {\n\nmodule.exports = function(gantt) {\n\n\tgantt.$keyboardNavigation.shortcuts = {\n\t\tcreateCommand: function () {\n\t\t\treturn {\n\t\t\t\tmodifiers: {\n\t\t\t\t\t\"shift\": false,\n\t\t\t\t\t\"alt\": false,\n\t\t\t\t\t\"ctrl\": false,\n\t\t\t\t\t\"meta\": false\n\t\t\t\t},\n\t\t\t\tkeyCode: null\n\t\t\t};\n\t\t},\n\t\tparse: function (shortcut) {\n\t\t\tvar commands = [];\n\n\t\t\tvar expr = this.getExpressions(this.trim(shortcut));\n\t\t\tfor (var i = 0; i < expr.length; i++) {\n\t\t\t\tvar words = this.getWords(expr[i]);\n\n\t\t\t\tvar command = this.createCommand();\n\n\t\t\t\tfor (var j = 0; j < words.length; j++) {\n\t\t\t\t\tif (this.commandKeys[words[j]]) {\n\t\t\t\t\t\tcommand.modifiers[words[j]] = true;\n\t\t\t\t\t} else if (this.specialKeys[words[j]]) {\n\t\t\t\t\t\tcommand.keyCode = this.specialKeys[words[j]];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcommand.keyCode = words[j].charCodeAt(0);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tcommands.push(command);\n\t\t\t}\n\t\t\treturn commands;\n\t\t},\n\n\t\tgetCommandFromEvent: function (domEvent) {\n\t\t\tvar command = this.createCommand();\n\t\t\tcommand.modifiers.shift = !!domEvent.shiftKey;\n\t\t\tcommand.modifiers.alt = !!domEvent.altKey;\n\t\t\tcommand.modifiers.ctrl = !!domEvent.ctrlKey;\n\t\t\tcommand.modifiers.meta = !!domEvent.metaKey;\n\t\t\tcommand.keyCode = domEvent.which || domEvent.keyCode;\n\n\t\t\tif(command.keyCode >= 96 && command.keyCode <= 105){\n\t\t\t\t// numpad keys 96-105 -> 48-57\n\t\t\t\tcommand.keyCode -= 48;//convert numpad  number code to regular number code\n\t\t\t}\n\n\t\t\tvar printableKey = String.fromCharCode(command.keyCode);\n\t\t\tif (printableKey) {\n\t\t\t\tcommand.keyCode = printableKey.toLowerCase().charCodeAt(0);\n\t\t\t}\n\t\t\treturn command;\n\t\t},\n\n\t\tgetHashFromEvent: function (domEvent) {\n\t\t\treturn this.getHash(this.getCommandFromEvent(domEvent));\n\t\t},\n\n\t\tgetHash: function (command) {\n\t\t\tvar parts = [];\n\t\t\tfor (var i in command.modifiers) {\n\t\t\t\tif (command.modifiers[i]) {\n\t\t\t\t\tparts.push(i);\n\t\t\t\t}\n\t\t\t}\n\t\t\tparts.push(command.keyCode);\n\n\t\t\treturn parts.join(this.junctionChar);\n\t\t},\n\n\t\tgetExpressions: function (shortcut) {\n\t\t\treturn shortcut.split(this.junctionChar);\n\t\t},\n\t\tgetWords: function (term) {\n\t\t\treturn term.split(this.combinationChar);\n\t\t},\n\t\ttrim: function (shortcut) {\n\t\t\treturn shortcut.replace(/\\s/g, \"\");\n\t\t},\n\t\tjunctionChar: \",\",\n\t\tcombinationChar: \"+\",\n\t\tcommandKeys: {\n\t\t\t\"shift\": 16,\n\t\t\t\"alt\": 18,\n\t\t\t\"ctrl\": 17,\n\t\t\t\"meta\": true\n\t\t},\n\t\tspecialKeys: {\n\t\t\t\"backspace\": 8,\n\t\t\t\"tab\": 9,\n\t\t\t\"enter\": 13,\n\t\t\t\"esc\": 27,\n\t\t\t\"space\": 32,\n\t\t\t\"up\": 38,\n\t\t\t\"down\": 40,\n\t\t\t\"left\": 37,\n\t\t\t\"right\": 39,\n\t\t\t\"home\": 36,\n\t\t\t\"end\": 35,\n\t\t\t\"pageup\": 33,\n\t\t\t\"pagedown\": 34,\n\t\t\t\"delete\": 46,\n\t\t\t\"insert\": 45,\n\t\t\t\"plus\": 107,\n\t\t\t\"f1\": 112,\n\t\t\t\"f2\": 113,\n\t\t\t\"f3\": 114,\n\t\t\t\"f4\": 115,\n\t\t\t\"f5\": 116,\n\t\t\t\"f6\": 117,\n\t\t\t\"f7\": 118,\n\t\t\t\"f8\": 119,\n\t\t\t\"f9\": 120,\n\t\t\t\"f10\": 121,\n\t\t\t\"f11\": 122,\n\t\t\t\"f12\": 123\n\t\t}\n\t};\n};\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports) {\n\nmodule.exports = function(gantt) {\n\n\tgantt.$keyboardNavigation.EventHandler = {\n\t\t_handlers: null,\n\t\tfindHandler: function (command) {\n\t\t\tif (!this._handlers) this._handlers = {};\n\t\t\tvar shortcuts = gantt.$keyboardNavigation.shortcuts;\n\t\t\tvar hash = shortcuts.getHash(command);\n\n\t\t\treturn this._handlers[hash];\n\t\t},\n\n\t\tdoAction: function (command, e) {\n\t\t\tvar handler = this.findHandler(command);\n\t\t\tif (handler) {\n\t\t\t\thandler.call(this, e);\n\n\t\t\t\tif (e.preventDefault) e.preventDefault();\n\t\t\t\telse e.returnValue = false;\n\n\t\t\t}\n\t\t},\n\t\tbind: function (shortcut, handler) {\n\t\t\tif (!this._handlers) this._handlers = {};\n\n\t\t\tvar shortcuts = gantt.$keyboardNavigation.shortcuts;\n\n\t\t\tvar commands = shortcuts.parse(shortcut);\n\t\t\tfor (var i = 0; i < commands.length; i++) {\n\t\t\t\tthis._handlers[shortcuts.getHash(commands[i])] = handler;\n\t\t\t}\n\t\t},\n\t\tunbind: function (shortcut) {\n\t\t\tvar shortcuts = gantt.$keyboardNavigation.shortcuts;\n\n\t\t\tvar commands = shortcuts.parse(shortcut);\n\t\t\tfor (var i = 0; i < commands.length; i++) {\n\t\t\t\tif (this._handlers[shortcuts.getHash(commands[i])]) {\n\t\t\t\t\tdelete this._handlers[shortcuts.getHash(commands[i])];\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tbindAll: function (map) {\n\t\t\tfor (var i in map) {\n\t\t\t\tthis.bind(i, map[i]);\n\t\t\t}\n\t\t},\n\t\tinitKeys: function () {\n\t\t\tif (!this._handlers)\n\t\t\t\tthis._handlers = {};\n\t\t\tif (this.keys) {\n\t\t\t\tthis.bindAll(this.keys);\n\t\t\t}\n\t\t}\n\t};\n\n};\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = function(gantt) {\n\n\t(function () {\n\t\tvar domHelpers = __webpack_require__(0);\n\t\tgantt.$keyboardNavigation.getFocusableNodes = domHelpers.getFocusableNodes;\n\n\t\tgantt.$keyboardNavigation.trapFocus = function trapFocus(root, e) {\n\t\t\tif (e.keyCode != 9) return false;\n\n\t\t\tvar focusable = gantt.$keyboardNavigation.getFocusableNodes(root);\n\t\t\tvar currentFocus = document.activeElement;\n\t\t\tvar currentIndex = -1;\n\t\t\tfor (var i = 0; i < focusable.length; i++) {\n\t\t\t\tif (focusable[i] == currentFocus) {\n\t\t\t\t\tcurrentIndex = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (e.shiftKey) {\n\t\t\t\t// back tab\n\t\t\t\tif (currentIndex <= 0) {\n\t\t\t\t\t// go to the last element if we focused on the first\n\t\t\t\t\tvar lastItem = focusable[focusable.length - 1];\n\t\t\t\t\tif (lastItem) {\n\t\t\t\t\t\tlastItem.focus();\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t} else {\n\t\t\t\t// forward tab\n\t\t\t\tif (currentIndex >= focusable.length - 1) {\n\t\t\t\t\t// forward tab from last element should go back to the first element\n\t\t\t\t\tvar firstItem = focusable[0];\n\t\t\t\t\tif (firstItem) {\n\t\t\t\t\t\tfirstItem.focus();\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn false;\n\t\t};\n\t})();\n\n};\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports) {\n\nmodule.exports = function(gantt) {\n\n\tgantt.$keyboardNavigation.GanttNode = function () {\n\t};\n\n\tgantt.$keyboardNavigation.GanttNode.prototype = gantt._compose(\n\t\tgantt.$keyboardNavigation.EventHandler,\n\t\t{\n\n\t\t\tfocus: function () {\n\t\t\t\tgantt.focus();\n\t\t\t},\n\n\t\t\tblur: function () {\n\n\t\t\t},\n\n\t\t\tdisable: function () {\n\t\t\t\tgantt.$container.setAttribute(\"tabindex\", \"0\");\n\t\t\t},\n\t\t\tenable: function () {\n\t\t\t\tif (gantt.$container)\n\t\t\t\t\tgantt.$container.removeAttribute(\"tabindex\");\n\t\t\t},\n\t\t\tisEnabled: function () {\n\t\t\t\treturn gantt.$container.hasAttribute(\"tabindex\");\n\t\t\t},\n\n\t\t\tscrollHorizontal: function scrollHorizontal(dir) {\n\t\t\t\tvar date = gantt.dateFromPos(gantt.getScrollState().x);\n\t\t\t\tvar step = dir < 0 ? -gantt.config.step : gantt.config.step;\n\t\t\t\tdate = gantt.date.add(date, step, gantt.config.scale_unit);\n\t\t\t\tgantt.scrollTo(gantt.posFromDate(date));\n\t\t\t},\n\n\t\t\tscrollVertical: function scrollVertical(dir) {\n\t\t\t\tvar top = gantt.getScrollState().y;\n\t\t\t\tvar step = gantt.config.row_height;\n\t\t\t\tgantt.scrollTo(null, top + (dir < 0 ? -1 : 1) * step);\n\t\t\t},\n\n\t\t\tkeys: {\n\t\t\t\t\"alt+left\": function (e) {\n\t\t\t\t\tthis.scrollHorizontal(-1);\n\t\t\t\t},\n\t\t\t\t\"alt+right\": function (e) {\n\t\t\t\t\tthis.scrollHorizontal(1);\n\t\t\t\t},\n\t\t\t\t\"alt+up\": function (e) {\n\t\t\t\t\tthis.scrollVertical(-1);\n\t\t\t\t},\n\t\t\t\t\"alt+down\": function (e) {\n\t\t\t\t\tthis.scrollVertical(1);\n\t\t\t\t},\n\n\t\t\t\t// undo\n\t\t\t\t\"ctrl+z\": function () {\n\t\t\t\t\tif (gantt.undo) gantt.undo();\n\t\t\t\t},\n\n\t\t\t\t// redo\n\t\t\t\t\"ctrl+r\": function () {\n\t\t\t\t\tif (gantt.redo) gantt.redo();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t);\n\n\tgantt.$keyboardNavigation.GanttNode.prototype.bindAll(gantt.$keyboardNavigation.GanttNode.prototype.keys);\n\n};\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports) {\n\nmodule.exports = function(gantt) {\n\n\tgantt.$keyboardNavigation.KeyNavNode = function () {\n\t};\n\n\tgantt.$keyboardNavigation.KeyNavNode.prototype = gantt._compose(\n\t\tgantt.$keyboardNavigation.EventHandler,\n\t\t{\n\t\t\tisValid: function () {\n\t\t\t\treturn true;\n\t\t\t},\n\t\t\tfallback: function () {\n\t\t\t\treturn null;\n\t\t\t},\n\n\t\t\tmoveTo: function (element) {\n\t\t\t\tgantt.$keyboardNavigation.dispatcher.setActiveNode(element);\n\t\t\t},\n\n\t\t\tcompareTo: function (b) {\n\t\t\t\t// good enough comparison of two random objects\n\t\t\t\tif (!b) return false;\n\t\t\t\tfor (var i in this) {\n\t\t\t\t\tif (!!this[i] != !!b[i]) return false;\n\n\t\t\t\t\tvar canStringifyThis = !!(this[i] && this[i].toString);\n\t\t\t\t\tvar canStringifyThat = !!(b[i] && b[i].toString);\n\t\t\t\t\tif (canStringifyThat != canStringifyThis) return false;\n\t\t\t\t\tif (!(canStringifyThat && canStringifyThis)) {\n\t\t\t\t\t\tif (b[i] != this[i]) return false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (b[i].toString() != this[i].toString())\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tgetNode: function () {\n\t\t\t},\n\t\t\tfocus: function () {\n\t\t\t\tvar node = this.getNode();\n\t\t\t\tif (node) {\n\t\t\t\t\tnode.setAttribute(\"tabindex\", \"-1\");\n\t\t\t\t\t//node.className += \" gantt_focused\";\n\t\t\t\t\tif (node.focus) node.focus();\n\t\t\t\t}\n\n\t\t\t},\n\t\t\tblur: function () {\n\t\t\t\tvar node = this.getNode();\n\t\t\t\tif (node) {\n\t\t\t\t\tnode.setAttribute(\"tabindex\", \"-1\");\n\t\t\t\t\t//node.className = (node.className || \"\").replace(/ ?gantt_focused/g, \"\");\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t);\n\n};\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports) {\n\nmodule.exports = function(gantt) {\n\n\tgantt.$keyboardNavigation.HeaderCell = function (index) {\n\t\tthis.index = index || 0;\n\t};\n\n\tgantt.$keyboardNavigation.HeaderCell.prototype = gantt._compose(\n\t\tgantt.$keyboardNavigation.KeyNavNode,\n\t\t{\n\t\t\t_handlers: null,\n\n\t\t\tisValid: function () {\n\t\t\t\tif (!gantt.config.show_grid) {\n\t\t\t\t\tif (gantt.getVisibleTaskCount())\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn !!gantt.getGridColumns()[this.index] || !gantt.getVisibleTaskCount();\n\t\t\t},\n\t\t\tfallback: function () {\n\t\t\t\tif (!gantt.config.show_grid) {\n\t\t\t\t\tif (gantt.getVisibleTaskCount()) {\n\t\t\t\t\t\treturn new gantt.$keyboardNavigation.TaskRow();\n\t\t\t\t\t}\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\tvar visibleColumns = gantt.getGridColumns();\n\t\t\t\tvar index = this.index;\n\t\t\t\twhile (index >= 0) {\n\t\t\t\t\tif (visibleColumns[index])\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\tif (visibleColumns[index]) {\n\t\t\t\t\treturn new gantt.$keyboardNavigation.HeaderCell(index);\n\t\t\t\t} else {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tgetNode: function () {\n\t\t\t\tvar cells = gantt.$grid_scale.childNodes;\n\t\t\t\treturn cells[this.index];\n\t\t\t},\n\n\n\t\t\tkeys: {\n\n\t\t\t\t\"left\": function () {\n\t\t\t\t\tif (this.index > 0) {\n\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.HeaderCell(this.index - 1));\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"right\": function () {\n\t\t\t\t\tvar columns = gantt.getGridColumns();\n\t\t\t\t\tif (this.index < columns.length - 1) {\n\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.HeaderCell(this.index + 1));\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"down\": function () {\n\t\t\t\t\tvar taskRow;\n\t\t\t\t\tvar rootLevel = gantt.getChildren(gantt.config.root_id);\n\t\t\t\t\tif (rootLevel[0]) {\n\t\t\t\t\t\ttaskRow = rootLevel[0];\n\t\t\t\t\t}\n\t\t\t\t\tif (taskRow) {\n\t\t\t\t\t\tif (gantt.config.keyboard_navigation_cells) {\n\t\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskCell(taskRow, this.index));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskRow(taskRow));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\t\"end\": function () {\n\t\t\t\t\tvar columns = gantt.getGridColumns();\n\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.HeaderCell(columns.length - 1));\n\t\t\t\t},\n\t\t\t\t\"home\": function () {\n\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.HeaderCell(0));\n\t\t\t\t},\n\n\n\t\t\t\t// press header button\n\t\t\t\t\"enter, space\": function () {\n\t\t\t\t\tvar node = document.activeElement;\n\t\t\t\t\tnode.click();\n\t\t\t\t},\n\n\t\t\t\t// add new task\n\t\t\t\t\"ctrl+enter\": function () {\n\t\t\t\t\tgantt.createTask({}, this.taskId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t);\n\n\tgantt.$keyboardNavigation.HeaderCell.prototype.bindAll(gantt.$keyboardNavigation.HeaderCell.prototype.keys);\n\n};\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports) {\n\nmodule.exports = function(gantt) {\n\n\tgantt.$keyboardNavigation.TaskRow = function (taskId) {\n\t\tif (!taskId) {\n\t\t\tvar rootLevel = gantt.getChildren(gantt.config.root_id);\n\t\t\tif (rootLevel[0]) {\n\t\t\t\ttaskId = rootLevel[0];\n\t\t\t}\n\t\t}\n\t\tthis.taskId = taskId;\n\t\tif (gantt.isTaskExists(this.taskId)) {\n\t\t\tthis.index = gantt.getTaskIndex(this.taskId);\n\t\t}\n\t};\n\n\tgantt.$keyboardNavigation.TaskRow.prototype = gantt._compose(\n\t\tgantt.$keyboardNavigation.KeyNavNode,\n\t\t{\n\t\t\t_handlers: null,\n\t\t\tisValid: function () {\n\t\t\t\treturn gantt.isTaskExists(this.taskId) && (gantt.getTaskIndex(this.taskId) > -1);\n\t\t\t},\n\t\t\tfallback: function () {\n\t\t\t\tif (!gantt.getVisibleTaskCount()) {\n\t\t\t\t\tvar header = new gantt.$keyboardNavigation.HeaderCell();\n\t\t\t\t\tif (!header.isValid()) return null;\n\t\t\t\t\telse return header;\n\t\t\t\t} else {\n\n\t\t\t\t\tvar nextIndex = -1;\n\t\t\t\t\tif (gantt.getTaskByIndex(this.index - 1)) {\n\t\t\t\t\t\tnextIndex = this.index - 1;\n\t\t\t\t\t} else if (gantt.getTaskByIndex(this.index + 1)) {\n\t\t\t\t\t\tnextIndex = this.index + 1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar index = this.index;\n\t\t\t\t\t\twhile (index >= 0) {\n\t\t\t\t\t\t\tif (gantt.getTaskByIndex(index) !== undefined) {\n\t\t\t\t\t\t\t\tnextIndex = index;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tindex--;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t\tif (nextIndex > -1) {\n\t\t\t\t\t\treturn new gantt.$keyboardNavigation.TaskRow(gantt.getTaskByIndex(nextIndex));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tgetNode: function () {\n\t\t\t\tif (gantt.isTaskExists(this.taskId) && gantt.isTaskVisible(this.taskId)) {\n\t\t\t\t\tif (gantt.config.show_grid) {\n\t\t\t\t\t\treturn gantt.$grid.querySelector(\".gantt_row[\" + gantt.config.task_attribute + \"='\" + this.taskId + \"']\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn gantt.getTaskNode(this.taskId);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\n\t\t\t_isNodeVisible: function () {\n\t\t\t\tvar pos = gantt.getTaskPosition(gantt.getTask(this.taskId));\n\t\t\t\tvar height = gantt.config.row_height;\n\t\t\t\tvar scroll = gantt.getScrollState();\n\t\t\t\tif (pos.top < scroll.y || pos.top + height > (scroll.y + scroll.inner_height)) {\n\t\t\t\t\treturn false;\n\t\t\t\t} else if (gantt.config.show_chart && (pos.left < scroll.x || pos.left > (scroll.x + scroll.inner_width))) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t},\n\n\t\t\tfocus: function () {\n\t\t\t\tif (!this._isNodeVisible()) {\n\t\t\t\t\tgantt.showTask(this.taskId);\n\t\t\t\t}\n\n\t\t\t\tgantt.$keyboardNavigation.KeyNavNode.prototype.focus.apply(this);\n\t\t\t},\n\n\t\t\tkeys: {\n\t\t\t\t\"pagedown\": function () {\n\t\t\t\t\tif (gantt.getVisibleTaskCount()) {\n\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskRow(gantt.getTaskByIndex(gantt.getVisibleTaskCount() - 1)));\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"pageup\": function () {\n\t\t\t\t\tif (gantt.getVisibleTaskCount()) {\n\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskRow(gantt.getTaskByIndex(0)));\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"up\": function () {\n\t\t\t\t\tvar nextElement = null;\n\t\t\t\t\tvar prevTask = gantt.getPrev(this.taskId);\n\t\t\t\t\tif (!prevTask) {\n\t\t\t\t\t\tnextElement = new gantt.$keyboardNavigation.HeaderCell();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnextElement = new gantt.$keyboardNavigation.TaskRow(prevTask);\n\t\t\t\t\t}\n\t\t\t\t\tthis.moveTo(nextElement);\n\t\t\t\t},\n\t\t\t\t\"down\": function () {\n\t\t\t\t\tvar nextTask = gantt.getNext(this.taskId);\n\t\t\t\t\tif (nextTask) {\n\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskRow(nextTask));\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\t// select\n\t\t\t\t\"space\": function (e) {\n\t\t\t\t\tif (gantt.getState().selected_task != this.taskId) {\n\t\t\t\t\t\tgantt.selectTask(this.taskId);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tgantt.unselectTask(this.taskId);\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\t// collapse\n\t\t\t\t\"ctrl+left\": function (e) {\n\t\t\t\t\tgantt.close(this.taskId);\n\t\t\t\t},\n\t\t\t\t// expand\n\t\t\t\t\"ctrl+right\": function (e) {\n\t\t\t\t\tgantt.open(this.taskId);\n\t\t\t\t},\n\n\t\t\t\t// delete task\n\t\t\t\t\"delete\": function (e) {\n\t\t\t\t\tgantt.$click.buttons[\"delete\"](this.taskId);\n\t\t\t\t},\n\n\t\t\t\t// open lightbox\n\t\t\t\t\"enter\": function () {\n\t\t\t\t\tgantt.showLightbox(this.taskId);\n\t\t\t\t},\n\n\t\t\t\t// add subtask\n\t\t\t\t\"ctrl+enter\": function () {\n\t\t\t\t\tgantt.createTask({}, this.taskId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t);\n\tgantt.$keyboardNavigation.TaskRow.prototype.bindAll(gantt.$keyboardNavigation.TaskRow.prototype.keys);\n\n};\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports) {\n\nmodule.exports = function(gantt) {\n\n\tgantt.$keyboardNavigation.TaskCell = function (taskId, index) {\n\t\tif (!taskId) {\n\t\t\tvar rootLevel = gantt.getChildren(gantt.config.root_id);\n\t\t\tif (rootLevel[0]) {\n\t\t\t\ttaskId = rootLevel[0];\n\t\t\t}\n\t\t}\n\t\tthis.taskId = taskId;\n\t\tthis.columnIndex = index || 0;\n\t\tthis.index = gantt.getTaskIndex(this.taskId);\n\t};\n\n\tgantt.$keyboardNavigation.TaskCell.prototype = gantt._compose(\n\t\tgantt.$keyboardNavigation.TaskRow,\n\t\t{\n\t\t\t_handlers: null,\n\t\t\tisValid: function () {\n\n\t\t\t\treturn gantt.$keyboardNavigation.TaskRow.prototype.isValid.call(this) && !!gantt.getGridColumns()[this.columnIndex];\n\t\t\t},\n\t\t\tfallback: function () {\n\t\t\t\tvar node = gantt.$keyboardNavigation.TaskRow.prototype.fallback.call(this);\n\t\t\t\tif (node instanceof gantt.$keyboardNavigation.TaskRow) {\n\t\t\t\t\tvar visibleColumns = gantt.getGridColumns();\n\t\t\t\t\tvar index = this.columnIndex;\n\t\t\t\t\twhile (index >= 0) {\n\t\t\t\t\t\tif (visibleColumns[index])\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tindex--;\n\t\t\t\t\t}\n\t\t\t\t\tif (visibleColumns[index]) {\n\t\t\t\t\t\treturn new gantt.$keyboardNavigation.TaskCell(node.taskId, index);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn node;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tgetNode: function () {\n\t\t\t\tif (gantt.isTaskExists(this.taskId) && gantt.isTaskVisible(this.taskId)) {\n\t\t\t\t\tif (gantt.config.show_grid) {\n\t\t\t\t\t\tvar row = gantt.$grid.querySelector(\".gantt_row[\" + gantt.config.task_attribute + \"='\" + this.taskId + \"']\");\n\t\t\t\t\t\treturn row.childNodes[this.columnIndex];\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn gantt.getTaskNode(this.taskId);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tkeys: {\n\t\t\t\t\"up\": function () {\n\n\t\t\t\t\tvar nextElement = null;\n\t\t\t\t\tvar prevTask = gantt.getPrev(this.taskId);\n\t\t\t\t\tif (!prevTask) {\n\t\t\t\t\t\tnextElement = new gantt.$keyboardNavigation.HeaderCell(this.columnIndex);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnextElement = new gantt.$keyboardNavigation.TaskCell(prevTask, this.columnIndex);\n\t\t\t\t\t}\n\t\t\t\t\tthis.moveTo(nextElement);\n\t\t\t\t},\n\t\t\t\t\"down\": function () {\n\t\t\t\t\tvar nextTask = gantt.getNext(this.taskId);\n\t\t\t\t\tif (nextTask) {\n\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskCell(nextTask, this.columnIndex));\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"left\": function () {\n\t\t\t\t\tif (this.columnIndex > 0) {\n\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskCell(this.taskId, this.columnIndex - 1));\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"right\": function () {\n\t\t\t\t\tvar columns = gantt.getGridColumns();\n\t\t\t\t\tif (this.columnIndex < columns.length - 1) {\n\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskCell(this.taskId, this.columnIndex + 1));\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\t\"end\": function () {\n\t\t\t\t\tvar columns = gantt.getGridColumns();\n\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskCell(this.taskId, columns.length - 1));\n\t\t\t\t},\n\t\t\t\t\"home\": function () {\n\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskCell(this.taskId, 0));\n\t\t\t\t},\n\t\t\t\t\"pagedown\": function () {\n\t\t\t\t\tif (gantt.getVisibleTaskCount()) {\n\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskCell(gantt.getTaskByIndex(gantt.getVisibleTaskCount() - 1), this.columnIndex));\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"pageup\": function () {\n\t\t\t\t\tif (gantt.getVisibleTaskCount()) {\n\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskCell(gantt.getTaskByIndex(0), this.columnIndex));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t);\n\n\n\tgantt.$keyboardNavigation.TaskCell.prototype.bindAll(gantt.$keyboardNavigation.TaskRow.prototype.keys);\n\tgantt.$keyboardNavigation.TaskCell.prototype.bindAll(gantt.$keyboardNavigation.TaskCell.prototype.keys);\n\n};\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports) {\n\nmodule.exports = function(gantt) {\n\n\t(function () {\n\t\tvar modalsStack = [];\n\n\t\tfunction isModal() {\n\t\t\treturn !!modalsStack.length;\n\t\t}\n\n\t\tfunction afterPopup(box) {\n\t\t\tsetTimeout(function () {\n\t\t\t\tif (!isModal())\n\t\t\t\t\tgantt.focus();\n\t\t\t}, 1);\n\t\t}\n\n\t\tfunction startModal(box) {\n\t\t\tgantt.eventRemove(box, \"keydown\", trapFocus);\n\t\t\tgantt.event(box, \"keydown\", trapFocus);\n\t\t\tmodalsStack.push(box);\n\t\t\t//gantt.$keyboardNavigation.dispatcher.disable();\n\t\t}\n\n\t\tfunction endModal() {\n\t\t\tvar box = modalsStack.pop();\n\t\t\tif (box) {\n\t\t\t\tgantt.eventRemove(box, \"keydown\", trapFocus);\n\t\t\t}\n\t\t\tafterPopup(box);\n\n\t\t}\n\n\n\t\tfunction isTopModal(box) {\n\t\t\treturn box == modalsStack[modalsStack.length - 1];\n\t\t}\n\n\t\tfunction trapFocus(event) {\n\t\t\tvar event = event || window.event;\n\t\t\tvar target = event.currentTarget;\n\t\t\tif (!isTopModal(target)) return;\n\n\t\t\tgantt.$keyboardNavigation.trapFocus(target, event);\n\t\t}\n\n\t\tfunction traceLightbox() {\n\t\t\tstartModal(gantt.getLightbox());\n\t\t}\n\n\t\tgantt.attachEvent(\"onLightbox\", traceLightbox);\n\t\tgantt.attachEvent(\"onAfterLightbox\", endModal);\n\t\tgantt.attachEvent(\"onLightboxChange\", function () {\n\t\t\tendModal();\n\t\t\ttraceLightbox();\n\t\t});\n\n\n\t\tgantt.attachEvent(\"onAfterQuickInfo\", function () {\n\t\t\tafterPopup();\n\t\t});\n\n\t\tgantt.attachEvent(\"onMessagePopup\", function (box) {\n\t\t\tsaveFocus();\n\t\t\tstartModal(box);\n\t\t});\n\t\tgantt.attachEvent(\"onAfterMessagePopup\", function () {\n\t\t\tendModal();\n\t\t\trestoreFocus();\n\t\t});\n\n\t\tvar focusElement = null;\n\n\t\tfunction saveFocus() {\n\t\t\tfocusElement = document.activeElement;\n\t\t}\n\n\t\tfunction restoreFocus() {\n\t\t\tsetTimeout(function () {\n\t\t\t\tif (focusElement) {\n\t\t\t\t\tfocusElement.focus();\n\t\t\t\t\tfocusElement = null;\n\t\t\t\t}\n\t\t\t}, 1);\n\t\t}\n\n\t\tgantt.$keyboardNavigation.isModal = isModal;\n\n\n\t})();\n\n};\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports) {\n\nmodule.exports = function(gantt) {\n\n\tgantt.$keyboardNavigation.dispatcher = {\n\t\tisActive: false,\n\t\tactiveNode: null,\n\t\tglobalNode: new gantt.$keyboardNavigation.GanttNode(),\n\n\t\tenable: function () {\n\t\t\tthis.isActive = true;\n\t\t\tthis.globalNode.enable();\n\t\t\tthis.setActiveNode(this.getActiveNode());\n\t\t},\n\n\t\tdisable: function () {\n\t\t\tthis.isActive = false;\n\t\t\tthis.globalNode.disable();\n\t\t},\n\n\t\tisEnabled: function () {\n\t\t\treturn !!this.isActive;\n\t\t},\n\n\t\tgetDefaultNode: function () {\n\t\t\tvar node;\n\t\t\tif (gantt.config.keyboard_navigation_cells) {\n\t\t\t\tnode = new gantt.$keyboardNavigation.TaskCell();\n\t\t\t} else {\n\t\t\t\tnode = new gantt.$keyboardNavigation.TaskRow();\n\t\t\t}\n\n\t\t\tif (!node.isValid()) {\n\t\t\t\tnode = node.fallback();\n\t\t\t}\n\t\t\treturn node;\n\t\t},\n\n\t\tsetDefaultNode: function () {\n\t\t\tthis.setActiveNode(this.getDefaultNode());\n\t\t},\n\n\t\tgetActiveNode: function () {\n\t\t\tvar node = this.activeNode;\n\t\t\tif (node && !node.isValid()) {\n\t\t\t\tnode = node.fallback();\n\t\t\t}\n\t\t\treturn node;\n\t\t},\n\n\t\tfocusGlobalNode: function () {\n\t\t\tthis.blurNode(this.globalNode);\n\t\t\tthis.focusNode(this.globalNode);\n\t\t},\n\n\t\tsetActiveNode: function (el) {\n\t\t\tif (this.activeNode) {\n\t\t\t\tif (this.activeNode.compareTo(el)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (this.isEnabled()) {\n\t\t\t\tthis.blurNode(this.activeNode);\n\t\t\t\tthis.activeNode = el;\n\t\t\t\tthis.focusNode(this.activeNode);\n\t\t\t}\n\t\t},\n\n\t\tfocusNode: function (el) {\n\t\t\tif (el && el.focus) {\n\t\t\t\tel.focus();\n\t\t\t}\n\t\t},\n\t\tblurNode: function (el) {\n\t\t\tif (el && el.blur) {\n\t\t\t\tel.blur();\n\t\t\t}\n\t\t},\n\n\t\tkeyDownHandler: function (e) {\n\n\t\t\tif (gantt.$keyboardNavigation.isModal())\n\t\t\t\treturn;\n\n\t\t\tif (!this.isEnabled())\n\t\t\t\treturn;\n\n\t\t\te = e || window.event;\n\n\t\t\tvar ganttNode = this.globalNode;\n\n\t\t\tvar command = gantt.$keyboardNavigation.shortcuts.getCommandFromEvent(e);\n\n\t\t\tvar activeElement = this.getActiveNode();\n\n\t\t\tif (!activeElement) {\n\t\t\t\tthis.setDefaultNode();\n\t\t\t} else if (activeElement.findHandler(command)) {\n\t\t\t\tactiveElement.doAction(command, e);\n\t\t\t} else if (ganttNode.findHandler(command)) {\n\t\t\t\tganttNode.doAction(command, e);\n\t\t\t}\n\n\t\t}\n\t};\n\n};\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// dhtmlxgantt_keyboard_navigation.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 4a949578cbbb066f713d","//returns position of html element on the page\nfunction elementPosition(elem) {\n\tvar top=0, left=0, right=0, bottom=0;\n\tif (elem.getBoundingClientRect) { //HTML5 method\n\t\tvar box = elem.getBoundingClientRect();\n\t\tvar body = document.body;\n\t\tvar docElem = (document.documentElement ||\n\t\t\tdocument.body.parentNode ||\n\t\t\tdocument.body);\n\n\t\tvar scrollTop = window.pageYOffset || docElem.scrollTop || body.scrollTop;\n\t\tvar scrollLeft = window.pageXOffset || docElem.scrollLeft || body.scrollLeft;\n\t\tvar clientTop = docElem.clientTop || body.clientTop || 0;\n\t\tvar clientLeft = docElem.clientLeft || body.clientLeft || 0;\n\t\ttop  = box.top +  scrollTop - clientTop;\n\t\tleft = box.left + scrollLeft - clientLeft;\n\n\t\tright = document.body.offsetWidth - box.right;\n\t\tbottom = document.body.offsetHeight - box.bottom;\n\t} else { //fallback to naive approach\n\t\twhile(elem) {\n\t\t\ttop = top + parseInt(elem.offsetTop,10);\n\t\t\tleft = left + parseInt(elem.offsetLeft,10);\n\t\t\telem = elem.offsetParent;\n\t\t}\n\n\t\tright = document.body.offsetWidth - elem.offsetWidth - left;\n\t\tbottom = document.body.offsetHeight - elem.offsetHeight - top;\n\t}\n\treturn { y: Math.round(top), x: Math.round(left), width:elem.offsetWidth, height:elem.offsetHeight, right: Math.round(right), bottom: Math.round(bottom) };\n}\n\nfunction isVisible(node){\n\tvar display = false,\n\t\tvisibility = false;\n\tif(window.getComputedStyle){\n\t\tvar style = window.getComputedStyle(node, null);\n\t\tdisplay = style[\"display\"];\n\t\tvisibility = style[\"visibility\"];\n\t}else if(node.currentStyle){\n\t\tdisplay = node.currentStyle[\"display\"];\n\t\tvisibility = node.currentStyle[\"visibility\"];\n\t}\n\treturn (display != \"none\" && visibility != \"hidden\");\n}\n\nfunction hasNonNegativeTabIndex(node){\n\treturn !isNaN(node.getAttribute(\"tabindex\")) && (node.getAttribute(\"tabindex\")*1 >= 0);\n}\n\nfunction hasHref(node){\n\tvar canHaveHref = {\"a\": true, \"area\": true};\n\tif(canHaveHref[node.nodeName.loLowerCase()]){\n\t\treturn !!node.getAttribute(\"href\");\n\t}\n\treturn true;\n}\n\nfunction isEnabled(node){\n\tvar canDisable = {\"input\":true, \"select\":true, \"textarea\":true, \"button\":true, \"object\":true};\n\tif(canDisable[node.nodeName.toLowerCase()]){\n\t\treturn !node.hasAttribute(\"disabled\");\n\t}\n\n\treturn true;\n}\n\nfunction getFocusableNodes(root){\n\tvar nodes = root.querySelectorAll([\n\t\t\"a[href]\",\n\t\t\"area[href]\",\n\t\t\"input\",\n\t\t\"select\",\n\t\t\"textarea\",\n\t\t\"button\",\n\t\t\"iframe\",\n\t\t\"object\",\n\t\t\"embed\",\n\t\t\"[tabindex]\",\n\t\t\"[contenteditable]\"\n\t].join(\", \"));\n\n\tvar nodesArray = Array.prototype.slice.call(nodes, 0);\n\tfor(var i = 0; i < nodesArray.length; i++){\n\t\tvar node = nodesArray[i];\n\t\tvar isValid = (hasNonNegativeTabIndex(node)  || isEnabled(node) || hasHref(node)) && isVisible(node);\n\t\tif(!isValid){\n\t\t\tnodesArray.splice(i, 1);\n\t\t\ti--;\n\t\t}\n\t}\n\treturn nodesArray;\n}\n\nfunction getScrollSize(){\n\tvar div = document.createElement(\"div\");\n\tdiv.style.cssText=\"visibility:hidden;position:absolute;left:-1000px;width:100px;padding:0px;margin:0px;height:110px;min-height:100px;overflow-y:scroll;\";\n\n\tdocument.body.appendChild(div);\n\tvar width = div.offsetWidth-div.clientWidth;\n\tdocument.body.removeChild(div);\n\n\treturn width;\n}\n\nfunction getClassName(node){\n\tif(!node) return \"\";\n\n\tvar className = node.className || \"\";\n\tif(className.baseVal)//'className' exist but not a string - IE svg element in DOM\n\t\tclassName = className.baseVal;\n\n\tif(!className.indexOf)\n\t\tclassName = '';\n\n\treturn _trimString(className);\n}\n\nfunction addClassName(node, className){\n\tif (className && node.className.indexOf(className) === -1) {\n\t\tnode.className += \" \" + className;\n\t}\n}\n\nfunction removeClassName(node, name) {\n\tname = name.split(\" \");\n\tfor (var i = 0; i < name.length; i++) {\n\t\tvar regEx = new RegExp('\\\\s?\\\\b' + name[i] + '\\\\b(?![-_\\.])', \"\");\n\t\tnode.className = node.className.replace(regEx, \"\");\n\t}\n}\n\nfunction toNode(node) {\n\tif (typeof node === \"string\") {\n\t\treturn (document.getElementById(node) || document.querySelector(node) || document.body);\n\t}\n\treturn node || document.body;\n}\n\nvar _slave = document.createElement(\"div\");\nfunction insert(node, newone) {\n\t_slave.innerHTML = newone;\n\tvar child = _slave.firstChild;\n\tnode.appendChild(child);\n\treturn child;\n}\n\nfunction remove(node) {\n\tif (node && node.parentNode) {\n\t\tnode.parentNode.removeChild(node);\n\t}\n}\n\nfunction getChildren(node, css) {\n\tvar ch = node.childNodes;\n\tvar len = ch.length;\n\tvar out = [];\n\tfor (var i = 0; i < len; i++) {\n\t\tvar obj = ch[i];\n\t\tif (obj.className && obj.className.indexOf(css) !== -1) {\n\t\t\tout.push(obj);\n\t\t}\n\t}\n\treturn out;\n}\n\nfunction getTargetNode(e){\n\tvar trg;\n\tif (e.tagName)\n\t\ttrg = e;\n\telse {\n\t\te=e||window.event;\n\t\ttrg=e.target||e.srcElement;\n\t}\n\treturn trg;\n}\n\nfunction locateAttribute(e, attribute) {\n\tif(!attribute) return;\n\n\tvar trg = getTargetNode(e);\n\n\twhile (trg){\n\t\tif (trg.getAttribute){\t//text nodes has not getAttribute\n\t\t\tvar test = trg.getAttribute(attribute);\n\t\t\tif (test) return trg;\n\t\t}\n\t\ttrg=trg.parentNode;\n\t}\n\treturn null;\n}\n\nfunction _trimString(str){\n\tvar func = String.prototype.trim || function(){ return this.replace(/^\\s+|\\s+$/g, \"\"); };\n\treturn func.apply(str);\n}\n\nfunction locateClassName(e, classname, strict){\n\tif(strict === undefined)\n\t\tstrict = true;\n\n\tvar trg = getTargetNode(e);\n\tvar css = '';\n\tvar test = false;\n\twhile (trg){\n\t\tcss = getClassName(trg);\n\n\t\tif(css){\n\t\t\tvar ind = css.indexOf(classname);\n\t\t\tif (ind >= 0){\n\t\t\t\tif (!strict)\n\t\t\t\t\treturn trg;\n\n\t\t\t\t//check that we have exact match\n\t\t\t\tvar left = (ind === 0) || (!_trimString(css.charAt(ind - 1)));\n\t\t\t\tvar right = ((ind + classname.length >= css.length)) || (!_trimString(css.charAt(ind + classname.length)));\n\n\t\t\t\tif (left && right)\n\t\t\t\t\treturn trg;\n\t\t\t}\n\t\t}\n\n\t\ttrg=trg.parentNode;\n\t}\n\treturn null;\n}\n\n/*\nevent position relatively to DOM element\n */\nfunction getRelativeEventPosition(ev, node){\n\tif (ev.pageX || ev.pageY)\n\t\tvar pos = {x: ev.pageX, y: ev.pageY};\n\n\tvar d = document.documentElement;\n\tvar pos = {\n\t\tx: ev.clientX + d.scrollLeft - d.clientLeft,\n\t\ty: ev.clientY + d.scrollTop - d.clientTop\n\t};\n\n\tvar box = elementPosition(node);\n\tpos.x = pos.x - box.x + node.scrollLeft;\n\tpos.y = pos.y - box.y + node.scrollTop;\n\treturn pos;\n}\n\n\nfunction isChildOf(child, parent){\n\twhile(child && child != parent) {\n\t\tchild = child.parentNode;\n\t}\n\treturn child == parent;\n}\n\nmodule.exports = {\n\tgetNodePosition: elementPosition,\n\tgetFocusableNodes: getFocusableNodes,\n\tgetScrollSize: getScrollSize,\n\tgetClassName: getClassName,\n\taddClassName: addClassName,\n\tremoveClassName: removeClassName,\n\tinsertNode: insert,\n\tremoveNode: remove,\n\tgetChildNodes: getChildren,\n\ttoNode: toNode,\n\tlocateClassName:locateClassName,\n\tlocateAttribute: locateAttribute,\n\tgetTargetNode: getTargetNode,\n\tgetRelativeEventPosition: getRelativeEventPosition,\n\tisChildOf: isChildOf,\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./sources/utils/dom_helpers.js\n// module id = 0\n// module chunks = 0 1","(function(){\n\tfunction setupKeyNav(gantt){\n\t\tgantt.config.keyboard_navigation = true;\n\t\tgantt.config.keyboard_navigation_cells = false;\n\n\t\tgantt.addShortcut = function(shortcut, handler, scope){\n\t\t\tvar scopeObject = getScope(scope);\n\t\t\tif(scopeObject){\n\t\t\t\tscopeObject.prototype.bind(shortcut, handler);\n\t\t\t}\n\t\t};\n\n\t\tgantt.getShortcutHandler = function(shortcut, scope){\n\t\t\tvar scopeObject = getScope(scope);\n\t\t\tif(scopeObject){\n\t\t\t\tvar commands = gantt.$keyboardNavigation.shortcuts.parse(shortcut);\n\t\t\t\tif(commands.length){\n\t\t\t\t\treturn scopeObject.prototype.findHandler(commands[0]);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tgantt.removeShortcut = function(shortcut, scope){\n\t\t\tvar scopeObject = getScope(scope);\n\t\t\tif(scopeObject){\n\t\t\t\tscopeObject.prototype.unbind(shortcut);\n\t\t\t}\n\t\t};\n\n\t\tgantt.focus = function(){\n\n\t\t\tvar disp = gantt.$keyboardNavigation.dispatcher;\n\t\t\tdisp.enable();\n\t\t\tif(!disp.getActiveNode()){\n\t\t\t\tdisp.setDefaultNode();\n\t\t\t}else{\n\t\t\t\tdisp.focusNode(disp.getActiveNode());\n\t\t\t}\n\n\t\t};\n\n\n\n\t\tfunction getScope(mode){\n\t\t\tvar scopes = {\n\t\t\t\t\"gantt\":gantt.$keyboardNavigation.GanttNode,\n\t\t\t\t\"headerCell\": gantt.$keyboardNavigation.HeaderCell,\n\t\t\t\t\"taskRow\": gantt.$keyboardNavigation.TaskRow,\n\t\t\t\t\"taskCell\": gantt.$keyboardNavigation.HeaderCell\n\t\t\t};\n\n\t\t\treturn scopes[mode] || scopes.gantt;\n\t\t}\n\n\t\tgantt.$keyboardNavigation = {};\n\n\t\tgantt._compose = function(){\n\t\t\tvar parts = Array.prototype.slice.call(arguments, 0);\n\t\t\tvar res = {};\n\t\t\tfor(var i = 0; i < parts.length; i++){\n\t\t\t\tvar obj = parts[i];\n\t\t\t\tif(typeof obj == \"function\"){\n\t\t\t\t\tobj = new obj();\n\t\t\t\t}\n\n\t\t\t\tfor(var p in obj){\n\t\t\t\t\tres[p] = obj[p];\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn res;\n\t\t};\n\n\t\trequire (\"./keyboard_navigation/common/keyboard_shortcuts\")(gantt);\n\t\trequire (\"./keyboard_navigation/common/eventhandler\")(gantt);\n\t\trequire (\"./keyboard_navigation/common/trap_modal_focus\")(gantt);\n\t\trequire (\"./keyboard_navigation/elements/gantt_node\")(gantt);\n\t\trequire (\"./keyboard_navigation/elements/nav_node\")(gantt);\n\t\trequire (\"./keyboard_navigation/elements/header_cell\")(gantt);\n\t\trequire (\"./keyboard_navigation/elements/task_row\")(gantt);\n\t\trequire (\"./keyboard_navigation/elements/task_cell\")(gantt);\n\t\trequire (\"./keyboard_navigation/modals\")(gantt);\n\t\trequire (\"./keyboard_navigation/core\")(gantt);\n\n\t\t(function(){\n\t\t\tvar dispatcher = gantt.$keyboardNavigation.dispatcher;\n\n\t\t\tvar keyDownHandler = function(e){\n\t\t\t\tif(!gantt.config.keyboard_navigation) return;\n\n\t\t\t\treturn dispatcher.keyDownHandler(e);\n\t\t\t};\n\n\t\t\tvar focusHandler = function(){\n\t\t\t\tdispatcher.focusGlobalNode();\n\t\t\t};\n\n\t\t\tgantt.attachEvent(\"onDataRender\", function(){\n\t\t\t\tif(!gantt.config.keyboard_navigation) return;\n\t\t\t\tif(dispatcher.isEnabled()){\n\t\t\t\t\tvar activeNode = dispatcher.getActiveNode();\n\t\t\t\t\tif(activeNode){\n\t\t\t\t\t\tactiveNode.focus();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tgantt.attachEvent(\"onGanttRender\", function(){\n\t\t\t\tgantt.eventRemove(document, \"keydown\", keyDownHandler);\n\t\t\t\tgantt.eventRemove(gantt.$container, \"focus\", focusHandler);\n\n\n\t\t\t\tif(gantt.config.keyboard_navigation){\n\n\t\t\t\t\tgantt.event(document, \"keydown\", keyDownHandler);\n\t\t\t\t\tgantt.event(gantt.$container, \"focus\", focusHandler);\n\n\t\t\t\t\tgantt.$container.setAttribute(\"tabindex\", \"0\");\n\n\t\t\t\t}else{\n\t\t\t\t\tgantt.$container.removeAttribute(\"tabindex\");\n\t\t\t\t}\n\t\t\t});\n\n\n\t\t\tvar onReady = gantt.attachEvent(\"onGanttReady\", function(){\n\t\t\t\t// restore focus on repainted tasks\n\t\t\t\tgantt.detachEvent(onReady);\n\n\t\t\t\tvar refreshTask = gantt.refreshTask;\n\t\t\t\tgantt.refreshTask = function(id){\n\t\t\t\t\tvar res = refreshTask.apply(this, arguments);\n\t\t\t\t\tif(gantt.config.keyboard_navigation && dispatcher.isEnabled()){\n\t\t\t\t\t\tvar currentNode = dispatcher.getActiveNode();\n\t\t\t\t\t\tif(currentNode && currentNode.taskId == id){\n\t\t\t\t\t\t\tdispatcher.focusNode(currentNode);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t\treturn res;\n\t\t\t\t};\n\n\t\t\t\tif(gantt._smart_render){\n\t\t\t\t\tvar updateRender = gantt._smart_render._redrawItems;\n\t\t\t\t\tgantt._smart_render._redrawItems = function(renderers, items){\n\t\t\t\t\t\tvar res = updateRender.apply(this, arguments);\n\t\t\t\t\t\tif(gantt.config.keyboard_navigation && dispatcher.isEnabled()){\n\t\t\t\t\t\t\tvar currentNode = dispatcher.getActiveNode();\n\t\t\t\t\t\t\tif(currentNode && currentNode.taskId !== undefined){\n\t\t\t\t\t\t\t\tfor(var i = 0; i < items.length; i++){\n\t\t\t\t\t\t\t\t\tif(items[i].id == currentNode.taskId){\n\t\t\t\t\t\t\t\t\t\tdispatcher.focusNode(currentNode);\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn res;\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t});\n\n\n\n\t\t\tgantt.attachEvent(\"onAfterTaskAdd\", function(id,item){\n\t\t\t\tif(!gantt.config.keyboard_navigation) return true;\n\t\t\t\tif(dispatcher.isEnabled()){\n\t\t\t\t\tdispatcher.setActiveNode(new gantt.$keyboardNavigation.TaskRow(id));\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tgantt.attachEvent(\"onTaskClick\", function(id){\n\t\t\t\tif(!gantt.config.keyboard_navigation) return true;\n\t\t\t\tdispatcher.enable();\n\t\t\t\tdispatcher.setActiveNode(new gantt.$keyboardNavigation.TaskRow(id));\n\t\t\t\treturn true;\n\t\t\t});\n\n\t\t\tgantt.attachEvent(\"onEmptyClick\", function(){\n\t\t\t\tif(!gantt.config.keyboard_navigation) return true;\n\t\t\t\tdispatcher.enable();\n\t\t\t});\n\n\t\t\tsetInterval(function(){\n\t\t\t\tif(!gantt.config.keyboard_navigation) return;\n\n\t\t\t\tvar enable;\n\t\t\t\tvar focusElement = document.activeElement;\n\n\t\t\t\tvar parent = gantt.$container;\n\t\t\t\t// halt key nav when focus is outside gantt or in quick info popup\n\t\t\t\tif(!focusElement || gantt._locate_css(focusElement, \"gantt_cal_quick_info\")){\n\t\t\t\t\tenable = false;\n\t\t\t\t}else{\n\t\t\t\t\twhile(focusElement != parent &&  focusElement){\n\t\t\t\t\t\tfocusElement = focusElement.parentNode;\n\t\t\t\t\t}\n\n\t\t\t\t\tif(focusElement == parent){\n\t\t\t\t\t\tenable = true;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tenable = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(enable && !dispatcher.isEnabled()){\n\t\t\t\t\tdispatcher.enable();\n\t\t\t\t}else if(!enable && dispatcher.isEnabled()){\n\t\t\t\t\tdispatcher.disable();\n\t\t\t\t}\n\n\t\t\t}, 500);\n\n\t\t})();\n\n\t}\n\n\n\tif(window.Gantt){\n\t\twindow.Gantt.plugin(setupKeyNav);\n\t}else{\n\t\tsetupKeyNav(window.gantt);\n\t}\n})();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./sources/ext/keyboard_navigation.js\n// module id = 6\n// module chunks = 0","module.exports = function(gantt) {\n\n\tgantt.$keyboardNavigation.shortcuts = {\n\t\tcreateCommand: function () {\n\t\t\treturn {\n\t\t\t\tmodifiers: {\n\t\t\t\t\t\"shift\": false,\n\t\t\t\t\t\"alt\": false,\n\t\t\t\t\t\"ctrl\": false,\n\t\t\t\t\t\"meta\": false\n\t\t\t\t},\n\t\t\t\tkeyCode: null\n\t\t\t};\n\t\t},\n\t\tparse: function (shortcut) {\n\t\t\tvar commands = [];\n\n\t\t\tvar expr = this.getExpressions(this.trim(shortcut));\n\t\t\tfor (var i = 0; i < expr.length; i++) {\n\t\t\t\tvar words = this.getWords(expr[i]);\n\n\t\t\t\tvar command = this.createCommand();\n\n\t\t\t\tfor (var j = 0; j < words.length; j++) {\n\t\t\t\t\tif (this.commandKeys[words[j]]) {\n\t\t\t\t\t\tcommand.modifiers[words[j]] = true;\n\t\t\t\t\t} else if (this.specialKeys[words[j]]) {\n\t\t\t\t\t\tcommand.keyCode = this.specialKeys[words[j]];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcommand.keyCode = words[j].charCodeAt(0);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tcommands.push(command);\n\t\t\t}\n\t\t\treturn commands;\n\t\t},\n\n\t\tgetCommandFromEvent: function (domEvent) {\n\t\t\tvar command = this.createCommand();\n\t\t\tcommand.modifiers.shift = !!domEvent.shiftKey;\n\t\t\tcommand.modifiers.alt = !!domEvent.altKey;\n\t\t\tcommand.modifiers.ctrl = !!domEvent.ctrlKey;\n\t\t\tcommand.modifiers.meta = !!domEvent.metaKey;\n\t\t\tcommand.keyCode = domEvent.which || domEvent.keyCode;\n\n\t\t\tif(command.keyCode >= 96 && command.keyCode <= 105){\n\t\t\t\t// numpad keys 96-105 -> 48-57\n\t\t\t\tcommand.keyCode -= 48;//convert numpad  number code to regular number code\n\t\t\t}\n\n\t\t\tvar printableKey = String.fromCharCode(command.keyCode);\n\t\t\tif (printableKey) {\n\t\t\t\tcommand.keyCode = printableKey.toLowerCase().charCodeAt(0);\n\t\t\t}\n\t\t\treturn command;\n\t\t},\n\n\t\tgetHashFromEvent: function (domEvent) {\n\t\t\treturn this.getHash(this.getCommandFromEvent(domEvent));\n\t\t},\n\n\t\tgetHash: function (command) {\n\t\t\tvar parts = [];\n\t\t\tfor (var i in command.modifiers) {\n\t\t\t\tif (command.modifiers[i]) {\n\t\t\t\t\tparts.push(i);\n\t\t\t\t}\n\t\t\t}\n\t\t\tparts.push(command.keyCode);\n\n\t\t\treturn parts.join(this.junctionChar);\n\t\t},\n\n\t\tgetExpressions: function (shortcut) {\n\t\t\treturn shortcut.split(this.junctionChar);\n\t\t},\n\t\tgetWords: function (term) {\n\t\t\treturn term.split(this.combinationChar);\n\t\t},\n\t\ttrim: function (shortcut) {\n\t\t\treturn shortcut.replace(/\\s/g, \"\");\n\t\t},\n\t\tjunctionChar: \",\",\n\t\tcombinationChar: \"+\",\n\t\tcommandKeys: {\n\t\t\t\"shift\": 16,\n\t\t\t\"alt\": 18,\n\t\t\t\"ctrl\": 17,\n\t\t\t\"meta\": true\n\t\t},\n\t\tspecialKeys: {\n\t\t\t\"backspace\": 8,\n\t\t\t\"tab\": 9,\n\t\t\t\"enter\": 13,\n\t\t\t\"esc\": 27,\n\t\t\t\"space\": 32,\n\t\t\t\"up\": 38,\n\t\t\t\"down\": 40,\n\t\t\t\"left\": 37,\n\t\t\t\"right\": 39,\n\t\t\t\"home\": 36,\n\t\t\t\"end\": 35,\n\t\t\t\"pageup\": 33,\n\t\t\t\"pagedown\": 34,\n\t\t\t\"delete\": 46,\n\t\t\t\"insert\": 45,\n\t\t\t\"plus\": 107,\n\t\t\t\"f1\": 112,\n\t\t\t\"f2\": 113,\n\t\t\t\"f3\": 114,\n\t\t\t\"f4\": 115,\n\t\t\t\"f5\": 116,\n\t\t\t\"f6\": 117,\n\t\t\t\"f7\": 118,\n\t\t\t\"f8\": 119,\n\t\t\t\"f9\": 120,\n\t\t\t\"f10\": 121,\n\t\t\t\"f11\": 122,\n\t\t\t\"f12\": 123\n\t\t}\n\t};\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./sources/ext/keyboard_navigation/common/keyboard_shortcuts.js\n// module id = 7\n// module chunks = 0","module.exports = function(gantt) {\n\n\tgantt.$keyboardNavigation.EventHandler = {\n\t\t_handlers: null,\n\t\tfindHandler: function (command) {\n\t\t\tif (!this._handlers) this._handlers = {};\n\t\t\tvar shortcuts = gantt.$keyboardNavigation.shortcuts;\n\t\t\tvar hash = shortcuts.getHash(command);\n\n\t\t\treturn this._handlers[hash];\n\t\t},\n\n\t\tdoAction: function (command, e) {\n\t\t\tvar handler = this.findHandler(command);\n\t\t\tif (handler) {\n\t\t\t\thandler.call(this, e);\n\n\t\t\t\tif (e.preventDefault) e.preventDefault();\n\t\t\t\telse e.returnValue = false;\n\n\t\t\t}\n\t\t},\n\t\tbind: function (shortcut, handler) {\n\t\t\tif (!this._handlers) this._handlers = {};\n\n\t\t\tvar shortcuts = gantt.$keyboardNavigation.shortcuts;\n\n\t\t\tvar commands = shortcuts.parse(shortcut);\n\t\t\tfor (var i = 0; i < commands.length; i++) {\n\t\t\t\tthis._handlers[shortcuts.getHash(commands[i])] = handler;\n\t\t\t}\n\t\t},\n\t\tunbind: function (shortcut) {\n\t\t\tvar shortcuts = gantt.$keyboardNavigation.shortcuts;\n\n\t\t\tvar commands = shortcuts.parse(shortcut);\n\t\t\tfor (var i = 0; i < commands.length; i++) {\n\t\t\t\tif (this._handlers[shortcuts.getHash(commands[i])]) {\n\t\t\t\t\tdelete this._handlers[shortcuts.getHash(commands[i])];\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tbindAll: function (map) {\n\t\t\tfor (var i in map) {\n\t\t\t\tthis.bind(i, map[i]);\n\t\t\t}\n\t\t},\n\t\tinitKeys: function () {\n\t\t\tif (!this._handlers)\n\t\t\t\tthis._handlers = {};\n\t\t\tif (this.keys) {\n\t\t\t\tthis.bindAll(this.keys);\n\t\t\t}\n\t\t}\n\t};\n\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./sources/ext/keyboard_navigation/common/eventhandler.js\n// module id = 8\n// module chunks = 0","module.exports = function(gantt) {\n\n\t(function () {\n\t\tvar domHelpers = require(\"../../../utils/dom_helpers\");\n\t\tgantt.$keyboardNavigation.getFocusableNodes = domHelpers.getFocusableNodes;\n\n\t\tgantt.$keyboardNavigation.trapFocus = function trapFocus(root, e) {\n\t\t\tif (e.keyCode != 9) return false;\n\n\t\t\tvar focusable = gantt.$keyboardNavigation.getFocusableNodes(root);\n\t\t\tvar currentFocus = document.activeElement;\n\t\t\tvar currentIndex = -1;\n\t\t\tfor (var i = 0; i < focusable.length; i++) {\n\t\t\t\tif (focusable[i] == currentFocus) {\n\t\t\t\t\tcurrentIndex = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (e.shiftKey) {\n\t\t\t\t// back tab\n\t\t\t\tif (currentIndex <= 0) {\n\t\t\t\t\t// go to the last element if we focused on the first\n\t\t\t\t\tvar lastItem = focusable[focusable.length - 1];\n\t\t\t\t\tif (lastItem) {\n\t\t\t\t\t\tlastItem.focus();\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t} else {\n\t\t\t\t// forward tab\n\t\t\t\tif (currentIndex >= focusable.length - 1) {\n\t\t\t\t\t// forward tab from last element should go back to the first element\n\t\t\t\t\tvar firstItem = focusable[0];\n\t\t\t\t\tif (firstItem) {\n\t\t\t\t\t\tfirstItem.focus();\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn false;\n\t\t};\n\t})();\n\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./sources/ext/keyboard_navigation/common/trap_modal_focus.js\n// module id = 9\n// module chunks = 0","module.exports = function(gantt) {\n\n\tgantt.$keyboardNavigation.GanttNode = function () {\n\t};\n\n\tgantt.$keyboardNavigation.GanttNode.prototype = gantt._compose(\n\t\tgantt.$keyboardNavigation.EventHandler,\n\t\t{\n\n\t\t\tfocus: function () {\n\t\t\t\tgantt.focus();\n\t\t\t},\n\n\t\t\tblur: function () {\n\n\t\t\t},\n\n\t\t\tdisable: function () {\n\t\t\t\tgantt.$container.setAttribute(\"tabindex\", \"0\");\n\t\t\t},\n\t\t\tenable: function () {\n\t\t\t\tif (gantt.$container)\n\t\t\t\t\tgantt.$container.removeAttribute(\"tabindex\");\n\t\t\t},\n\t\t\tisEnabled: function () {\n\t\t\t\treturn gantt.$container.hasAttribute(\"tabindex\");\n\t\t\t},\n\n\t\t\tscrollHorizontal: function scrollHorizontal(dir) {\n\t\t\t\tvar date = gantt.dateFromPos(gantt.getScrollState().x);\n\t\t\t\tvar step = dir < 0 ? -gantt.config.step : gantt.config.step;\n\t\t\t\tdate = gantt.date.add(date, step, gantt.config.scale_unit);\n\t\t\t\tgantt.scrollTo(gantt.posFromDate(date));\n\t\t\t},\n\n\t\t\tscrollVertical: function scrollVertical(dir) {\n\t\t\t\tvar top = gantt.getScrollState().y;\n\t\t\t\tvar step = gantt.config.row_height;\n\t\t\t\tgantt.scrollTo(null, top + (dir < 0 ? -1 : 1) * step);\n\t\t\t},\n\n\t\t\tkeys: {\n\t\t\t\t\"alt+left\": function (e) {\n\t\t\t\t\tthis.scrollHorizontal(-1);\n\t\t\t\t},\n\t\t\t\t\"alt+right\": function (e) {\n\t\t\t\t\tthis.scrollHorizontal(1);\n\t\t\t\t},\n\t\t\t\t\"alt+up\": function (e) {\n\t\t\t\t\tthis.scrollVertical(-1);\n\t\t\t\t},\n\t\t\t\t\"alt+down\": function (e) {\n\t\t\t\t\tthis.scrollVertical(1);\n\t\t\t\t},\n\n\t\t\t\t// undo\n\t\t\t\t\"ctrl+z\": function () {\n\t\t\t\t\tif (gantt.undo) gantt.undo();\n\t\t\t\t},\n\n\t\t\t\t// redo\n\t\t\t\t\"ctrl+r\": function () {\n\t\t\t\t\tif (gantt.redo) gantt.redo();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t);\n\n\tgantt.$keyboardNavigation.GanttNode.prototype.bindAll(gantt.$keyboardNavigation.GanttNode.prototype.keys);\n\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./sources/ext/keyboard_navigation/elements/gantt_node.js\n// module id = 10\n// module chunks = 0","module.exports = function(gantt) {\n\n\tgantt.$keyboardNavigation.KeyNavNode = function () {\n\t};\n\n\tgantt.$keyboardNavigation.KeyNavNode.prototype = gantt._compose(\n\t\tgantt.$keyboardNavigation.EventHandler,\n\t\t{\n\t\t\tisValid: function () {\n\t\t\t\treturn true;\n\t\t\t},\n\t\t\tfallback: function () {\n\t\t\t\treturn null;\n\t\t\t},\n\n\t\t\tmoveTo: function (element) {\n\t\t\t\tgantt.$keyboardNavigation.dispatcher.setActiveNode(element);\n\t\t\t},\n\n\t\t\tcompareTo: function (b) {\n\t\t\t\t// good enough comparison of two random objects\n\t\t\t\tif (!b) return false;\n\t\t\t\tfor (var i in this) {\n\t\t\t\t\tif (!!this[i] != !!b[i]) return false;\n\n\t\t\t\t\tvar canStringifyThis = !!(this[i] && this[i].toString);\n\t\t\t\t\tvar canStringifyThat = !!(b[i] && b[i].toString);\n\t\t\t\t\tif (canStringifyThat != canStringifyThis) return false;\n\t\t\t\t\tif (!(canStringifyThat && canStringifyThis)) {\n\t\t\t\t\t\tif (b[i] != this[i]) return false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (b[i].toString() != this[i].toString())\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tgetNode: function () {\n\t\t\t},\n\t\t\tfocus: function () {\n\t\t\t\tvar node = this.getNode();\n\t\t\t\tif (node) {\n\t\t\t\t\tnode.setAttribute(\"tabindex\", \"-1\");\n\t\t\t\t\t//node.className += \" gantt_focused\";\n\t\t\t\t\tif (node.focus) node.focus();\n\t\t\t\t}\n\n\t\t\t},\n\t\t\tblur: function () {\n\t\t\t\tvar node = this.getNode();\n\t\t\t\tif (node) {\n\t\t\t\t\tnode.setAttribute(\"tabindex\", \"-1\");\n\t\t\t\t\t//node.className = (node.className || \"\").replace(/ ?gantt_focused/g, \"\");\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t);\n\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./sources/ext/keyboard_navigation/elements/nav_node.js\n// module id = 11\n// module chunks = 0","module.exports = function(gantt) {\n\n\tgantt.$keyboardNavigation.HeaderCell = function (index) {\n\t\tthis.index = index || 0;\n\t};\n\n\tgantt.$keyboardNavigation.HeaderCell.prototype = gantt._compose(\n\t\tgantt.$keyboardNavigation.KeyNavNode,\n\t\t{\n\t\t\t_handlers: null,\n\n\t\t\tisValid: function () {\n\t\t\t\tif (!gantt.config.show_grid) {\n\t\t\t\t\tif (gantt.getVisibleTaskCount())\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn !!gantt.getGridColumns()[this.index] || !gantt.getVisibleTaskCount();\n\t\t\t},\n\t\t\tfallback: function () {\n\t\t\t\tif (!gantt.config.show_grid) {\n\t\t\t\t\tif (gantt.getVisibleTaskCount()) {\n\t\t\t\t\t\treturn new gantt.$keyboardNavigation.TaskRow();\n\t\t\t\t\t}\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\tvar visibleColumns = gantt.getGridColumns();\n\t\t\t\tvar index = this.index;\n\t\t\t\twhile (index >= 0) {\n\t\t\t\t\tif (visibleColumns[index])\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\tif (visibleColumns[index]) {\n\t\t\t\t\treturn new gantt.$keyboardNavigation.HeaderCell(index);\n\t\t\t\t} else {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tgetNode: function () {\n\t\t\t\tvar cells = gantt.$grid_scale.childNodes;\n\t\t\t\treturn cells[this.index];\n\t\t\t},\n\n\n\t\t\tkeys: {\n\n\t\t\t\t\"left\": function () {\n\t\t\t\t\tif (this.index > 0) {\n\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.HeaderCell(this.index - 1));\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"right\": function () {\n\t\t\t\t\tvar columns = gantt.getGridColumns();\n\t\t\t\t\tif (this.index < columns.length - 1) {\n\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.HeaderCell(this.index + 1));\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"down\": function () {\n\t\t\t\t\tvar taskRow;\n\t\t\t\t\tvar rootLevel = gantt.getChildren(gantt.config.root_id);\n\t\t\t\t\tif (rootLevel[0]) {\n\t\t\t\t\t\ttaskRow = rootLevel[0];\n\t\t\t\t\t}\n\t\t\t\t\tif (taskRow) {\n\t\t\t\t\t\tif (gantt.config.keyboard_navigation_cells) {\n\t\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskCell(taskRow, this.index));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskRow(taskRow));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\t\"end\": function () {\n\t\t\t\t\tvar columns = gantt.getGridColumns();\n\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.HeaderCell(columns.length - 1));\n\t\t\t\t},\n\t\t\t\t\"home\": function () {\n\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.HeaderCell(0));\n\t\t\t\t},\n\n\n\t\t\t\t// press header button\n\t\t\t\t\"enter, space\": function () {\n\t\t\t\t\tvar node = document.activeElement;\n\t\t\t\t\tnode.click();\n\t\t\t\t},\n\n\t\t\t\t// add new task\n\t\t\t\t\"ctrl+enter\": function () {\n\t\t\t\t\tgantt.createTask({}, this.taskId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t);\n\n\tgantt.$keyboardNavigation.HeaderCell.prototype.bindAll(gantt.$keyboardNavigation.HeaderCell.prototype.keys);\n\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./sources/ext/keyboard_navigation/elements/header_cell.js\n// module id = 12\n// module chunks = 0","module.exports = function(gantt) {\n\n\tgantt.$keyboardNavigation.TaskRow = function (taskId) {\n\t\tif (!taskId) {\n\t\t\tvar rootLevel = gantt.getChildren(gantt.config.root_id);\n\t\t\tif (rootLevel[0]) {\n\t\t\t\ttaskId = rootLevel[0];\n\t\t\t}\n\t\t}\n\t\tthis.taskId = taskId;\n\t\tif (gantt.isTaskExists(this.taskId)) {\n\t\t\tthis.index = gantt.getTaskIndex(this.taskId);\n\t\t}\n\t};\n\n\tgantt.$keyboardNavigation.TaskRow.prototype = gantt._compose(\n\t\tgantt.$keyboardNavigation.KeyNavNode,\n\t\t{\n\t\t\t_handlers: null,\n\t\t\tisValid: function () {\n\t\t\t\treturn gantt.isTaskExists(this.taskId) && (gantt.getTaskIndex(this.taskId) > -1);\n\t\t\t},\n\t\t\tfallback: function () {\n\t\t\t\tif (!gantt.getVisibleTaskCount()) {\n\t\t\t\t\tvar header = new gantt.$keyboardNavigation.HeaderCell();\n\t\t\t\t\tif (!header.isValid()) return null;\n\t\t\t\t\telse return header;\n\t\t\t\t} else {\n\n\t\t\t\t\tvar nextIndex = -1;\n\t\t\t\t\tif (gantt.getTaskByIndex(this.index - 1)) {\n\t\t\t\t\t\tnextIndex = this.index - 1;\n\t\t\t\t\t} else if (gantt.getTaskByIndex(this.index + 1)) {\n\t\t\t\t\t\tnextIndex = this.index + 1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar index = this.index;\n\t\t\t\t\t\twhile (index >= 0) {\n\t\t\t\t\t\t\tif (gantt.getTaskByIndex(index) !== undefined) {\n\t\t\t\t\t\t\t\tnextIndex = index;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tindex--;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t\tif (nextIndex > -1) {\n\t\t\t\t\t\treturn new gantt.$keyboardNavigation.TaskRow(gantt.getTaskByIndex(nextIndex));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tgetNode: function () {\n\t\t\t\tif (gantt.isTaskExists(this.taskId) && gantt.isTaskVisible(this.taskId)) {\n\t\t\t\t\tif (gantt.config.show_grid) {\n\t\t\t\t\t\treturn gantt.$grid.querySelector(\".gantt_row[\" + gantt.config.task_attribute + \"='\" + this.taskId + \"']\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn gantt.getTaskNode(this.taskId);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\n\t\t\t_isNodeVisible: function () {\n\t\t\t\tvar pos = gantt.getTaskPosition(gantt.getTask(this.taskId));\n\t\t\t\tvar height = gantt.config.row_height;\n\t\t\t\tvar scroll = gantt.getScrollState();\n\t\t\t\tif (pos.top < scroll.y || pos.top + height > (scroll.y + scroll.inner_height)) {\n\t\t\t\t\treturn false;\n\t\t\t\t} else if (gantt.config.show_chart && (pos.left < scroll.x || pos.left > (scroll.x + scroll.inner_width))) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t},\n\n\t\t\tfocus: function () {\n\t\t\t\tif (!this._isNodeVisible()) {\n\t\t\t\t\tgantt.showTask(this.taskId);\n\t\t\t\t}\n\n\t\t\t\tgantt.$keyboardNavigation.KeyNavNode.prototype.focus.apply(this);\n\t\t\t},\n\n\t\t\tkeys: {\n\t\t\t\t\"pagedown\": function () {\n\t\t\t\t\tif (gantt.getVisibleTaskCount()) {\n\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskRow(gantt.getTaskByIndex(gantt.getVisibleTaskCount() - 1)));\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"pageup\": function () {\n\t\t\t\t\tif (gantt.getVisibleTaskCount()) {\n\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskRow(gantt.getTaskByIndex(0)));\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"up\": function () {\n\t\t\t\t\tvar nextElement = null;\n\t\t\t\t\tvar prevTask = gantt.getPrev(this.taskId);\n\t\t\t\t\tif (!prevTask) {\n\t\t\t\t\t\tnextElement = new gantt.$keyboardNavigation.HeaderCell();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnextElement = new gantt.$keyboardNavigation.TaskRow(prevTask);\n\t\t\t\t\t}\n\t\t\t\t\tthis.moveTo(nextElement);\n\t\t\t\t},\n\t\t\t\t\"down\": function () {\n\t\t\t\t\tvar nextTask = gantt.getNext(this.taskId);\n\t\t\t\t\tif (nextTask) {\n\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskRow(nextTask));\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\t// select\n\t\t\t\t\"space\": function (e) {\n\t\t\t\t\tif (gantt.getState().selected_task != this.taskId) {\n\t\t\t\t\t\tgantt.selectTask(this.taskId);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tgantt.unselectTask(this.taskId);\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\t// collapse\n\t\t\t\t\"ctrl+left\": function (e) {\n\t\t\t\t\tgantt.close(this.taskId);\n\t\t\t\t},\n\t\t\t\t// expand\n\t\t\t\t\"ctrl+right\": function (e) {\n\t\t\t\t\tgantt.open(this.taskId);\n\t\t\t\t},\n\n\t\t\t\t// delete task\n\t\t\t\t\"delete\": function (e) {\n\t\t\t\t\tgantt.$click.buttons[\"delete\"](this.taskId);\n\t\t\t\t},\n\n\t\t\t\t// open lightbox\n\t\t\t\t\"enter\": function () {\n\t\t\t\t\tgantt.showLightbox(this.taskId);\n\t\t\t\t},\n\n\t\t\t\t// add subtask\n\t\t\t\t\"ctrl+enter\": function () {\n\t\t\t\t\tgantt.createTask({}, this.taskId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t);\n\tgantt.$keyboardNavigation.TaskRow.prototype.bindAll(gantt.$keyboardNavigation.TaskRow.prototype.keys);\n\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./sources/ext/keyboard_navigation/elements/task_row.js\n// module id = 13\n// module chunks = 0","module.exports = function(gantt) {\n\n\tgantt.$keyboardNavigation.TaskCell = function (taskId, index) {\n\t\tif (!taskId) {\n\t\t\tvar rootLevel = gantt.getChildren(gantt.config.root_id);\n\t\t\tif (rootLevel[0]) {\n\t\t\t\ttaskId = rootLevel[0];\n\t\t\t}\n\t\t}\n\t\tthis.taskId = taskId;\n\t\tthis.columnIndex = index || 0;\n\t\tthis.index = gantt.getTaskIndex(this.taskId);\n\t};\n\n\tgantt.$keyboardNavigation.TaskCell.prototype = gantt._compose(\n\t\tgantt.$keyboardNavigation.TaskRow,\n\t\t{\n\t\t\t_handlers: null,\n\t\t\tisValid: function () {\n\n\t\t\t\treturn gantt.$keyboardNavigation.TaskRow.prototype.isValid.call(this) && !!gantt.getGridColumns()[this.columnIndex];\n\t\t\t},\n\t\t\tfallback: function () {\n\t\t\t\tvar node = gantt.$keyboardNavigation.TaskRow.prototype.fallback.call(this);\n\t\t\t\tif (node instanceof gantt.$keyboardNavigation.TaskRow) {\n\t\t\t\t\tvar visibleColumns = gantt.getGridColumns();\n\t\t\t\t\tvar index = this.columnIndex;\n\t\t\t\t\twhile (index >= 0) {\n\t\t\t\t\t\tif (visibleColumns[index])\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tindex--;\n\t\t\t\t\t}\n\t\t\t\t\tif (visibleColumns[index]) {\n\t\t\t\t\t\treturn new gantt.$keyboardNavigation.TaskCell(node.taskId, index);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn node;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tgetNode: function () {\n\t\t\t\tif (gantt.isTaskExists(this.taskId) && gantt.isTaskVisible(this.taskId)) {\n\t\t\t\t\tif (gantt.config.show_grid) {\n\t\t\t\t\t\tvar row = gantt.$grid.querySelector(\".gantt_row[\" + gantt.config.task_attribute + \"='\" + this.taskId + \"']\");\n\t\t\t\t\t\treturn row.childNodes[this.columnIndex];\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn gantt.getTaskNode(this.taskId);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tkeys: {\n\t\t\t\t\"up\": function () {\n\n\t\t\t\t\tvar nextElement = null;\n\t\t\t\t\tvar prevTask = gantt.getPrev(this.taskId);\n\t\t\t\t\tif (!prevTask) {\n\t\t\t\t\t\tnextElement = new gantt.$keyboardNavigation.HeaderCell(this.columnIndex);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnextElement = new gantt.$keyboardNavigation.TaskCell(prevTask, this.columnIndex);\n\t\t\t\t\t}\n\t\t\t\t\tthis.moveTo(nextElement);\n\t\t\t\t},\n\t\t\t\t\"down\": function () {\n\t\t\t\t\tvar nextTask = gantt.getNext(this.taskId);\n\t\t\t\t\tif (nextTask) {\n\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskCell(nextTask, this.columnIndex));\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"left\": function () {\n\t\t\t\t\tif (this.columnIndex > 0) {\n\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskCell(this.taskId, this.columnIndex - 1));\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"right\": function () {\n\t\t\t\t\tvar columns = gantt.getGridColumns();\n\t\t\t\t\tif (this.columnIndex < columns.length - 1) {\n\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskCell(this.taskId, this.columnIndex + 1));\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\t\"end\": function () {\n\t\t\t\t\tvar columns = gantt.getGridColumns();\n\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskCell(this.taskId, columns.length - 1));\n\t\t\t\t},\n\t\t\t\t\"home\": function () {\n\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskCell(this.taskId, 0));\n\t\t\t\t},\n\t\t\t\t\"pagedown\": function () {\n\t\t\t\t\tif (gantt.getVisibleTaskCount()) {\n\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskCell(gantt.getTaskByIndex(gantt.getVisibleTaskCount() - 1), this.columnIndex));\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"pageup\": function () {\n\t\t\t\t\tif (gantt.getVisibleTaskCount()) {\n\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskCell(gantt.getTaskByIndex(0), this.columnIndex));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t);\n\n\n\tgantt.$keyboardNavigation.TaskCell.prototype.bindAll(gantt.$keyboardNavigation.TaskRow.prototype.keys);\n\tgantt.$keyboardNavigation.TaskCell.prototype.bindAll(gantt.$keyboardNavigation.TaskCell.prototype.keys);\n\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./sources/ext/keyboard_navigation/elements/task_cell.js\n// module id = 14\n// module chunks = 0","module.exports = function(gantt) {\n\n\t(function () {\n\t\tvar modalsStack = [];\n\n\t\tfunction isModal() {\n\t\t\treturn !!modalsStack.length;\n\t\t}\n\n\t\tfunction afterPopup(box) {\n\t\t\tsetTimeout(function () {\n\t\t\t\tif (!isModal())\n\t\t\t\t\tgantt.focus();\n\t\t\t}, 1);\n\t\t}\n\n\t\tfunction startModal(box) {\n\t\t\tgantt.eventRemove(box, \"keydown\", trapFocus);\n\t\t\tgantt.event(box, \"keydown\", trapFocus);\n\t\t\tmodalsStack.push(box);\n\t\t\t//gantt.$keyboardNavigation.dispatcher.disable();\n\t\t}\n\n\t\tfunction endModal() {\n\t\t\tvar box = modalsStack.pop();\n\t\t\tif (box) {\n\t\t\t\tgantt.eventRemove(box, \"keydown\", trapFocus);\n\t\t\t}\n\t\t\tafterPopup(box);\n\n\t\t}\n\n\n\t\tfunction isTopModal(box) {\n\t\t\treturn box == modalsStack[modalsStack.length - 1];\n\t\t}\n\n\t\tfunction trapFocus(event) {\n\t\t\tvar event = event || window.event;\n\t\t\tvar target = event.currentTarget;\n\t\t\tif (!isTopModal(target)) return;\n\n\t\t\tgantt.$keyboardNavigation.trapFocus(target, event);\n\t\t}\n\n\t\tfunction traceLightbox() {\n\t\t\tstartModal(gantt.getLightbox());\n\t\t}\n\n\t\tgantt.attachEvent(\"onLightbox\", traceLightbox);\n\t\tgantt.attachEvent(\"onAfterLightbox\", endModal);\n\t\tgantt.attachEvent(\"onLightboxChange\", function () {\n\t\t\tendModal();\n\t\t\ttraceLightbox();\n\t\t});\n\n\n\t\tgantt.attachEvent(\"onAfterQuickInfo\", function () {\n\t\t\tafterPopup();\n\t\t});\n\n\t\tgantt.attachEvent(\"onMessagePopup\", function (box) {\n\t\t\tsaveFocus();\n\t\t\tstartModal(box);\n\t\t});\n\t\tgantt.attachEvent(\"onAfterMessagePopup\", function () {\n\t\t\tendModal();\n\t\t\trestoreFocus();\n\t\t});\n\n\t\tvar focusElement = null;\n\n\t\tfunction saveFocus() {\n\t\t\tfocusElement = document.activeElement;\n\t\t}\n\n\t\tfunction restoreFocus() {\n\t\t\tsetTimeout(function () {\n\t\t\t\tif (focusElement) {\n\t\t\t\t\tfocusElement.focus();\n\t\t\t\t\tfocusElement = null;\n\t\t\t\t}\n\t\t\t}, 1);\n\t\t}\n\n\t\tgantt.$keyboardNavigation.isModal = isModal;\n\n\n\t})();\n\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./sources/ext/keyboard_navigation/modals.js\n// module id = 15\n// module chunks = 0","module.exports = function(gantt) {\n\n\tgantt.$keyboardNavigation.dispatcher = {\n\t\tisActive: false,\n\t\tactiveNode: null,\n\t\tglobalNode: new gantt.$keyboardNavigation.GanttNode(),\n\n\t\tenable: function () {\n\t\t\tthis.isActive = true;\n\t\t\tthis.globalNode.enable();\n\t\t\tthis.setActiveNode(this.getActiveNode());\n\t\t},\n\n\t\tdisable: function () {\n\t\t\tthis.isActive = false;\n\t\t\tthis.globalNode.disable();\n\t\t},\n\n\t\tisEnabled: function () {\n\t\t\treturn !!this.isActive;\n\t\t},\n\n\t\tgetDefaultNode: function () {\n\t\t\tvar node;\n\t\t\tif (gantt.config.keyboard_navigation_cells) {\n\t\t\t\tnode = new gantt.$keyboardNavigation.TaskCell();\n\t\t\t} else {\n\t\t\t\tnode = new gantt.$keyboardNavigation.TaskRow();\n\t\t\t}\n\n\t\t\tif (!node.isValid()) {\n\t\t\t\tnode = node.fallback();\n\t\t\t}\n\t\t\treturn node;\n\t\t},\n\n\t\tsetDefaultNode: function () {\n\t\t\tthis.setActiveNode(this.getDefaultNode());\n\t\t},\n\n\t\tgetActiveNode: function () {\n\t\t\tvar node = this.activeNode;\n\t\t\tif (node && !node.isValid()) {\n\t\t\t\tnode = node.fallback();\n\t\t\t}\n\t\t\treturn node;\n\t\t},\n\n\t\tfocusGlobalNode: function () {\n\t\t\tthis.blurNode(this.globalNode);\n\t\t\tthis.focusNode(this.globalNode);\n\t\t},\n\n\t\tsetActiveNode: function (el) {\n\t\t\tif (this.activeNode) {\n\t\t\t\tif (this.activeNode.compareTo(el)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (this.isEnabled()) {\n\t\t\t\tthis.blurNode(this.activeNode);\n\t\t\t\tthis.activeNode = el;\n\t\t\t\tthis.focusNode(this.activeNode);\n\t\t\t}\n\t\t},\n\n\t\tfocusNode: function (el) {\n\t\t\tif (el && el.focus) {\n\t\t\t\tel.focus();\n\t\t\t}\n\t\t},\n\t\tblurNode: function (el) {\n\t\t\tif (el && el.blur) {\n\t\t\t\tel.blur();\n\t\t\t}\n\t\t},\n\n\t\tkeyDownHandler: function (e) {\n\n\t\t\tif (gantt.$keyboardNavigation.isModal())\n\t\t\t\treturn;\n\n\t\t\tif (!this.isEnabled())\n\t\t\t\treturn;\n\n\t\t\te = e || window.event;\n\n\t\t\tvar ganttNode = this.globalNode;\n\n\t\t\tvar command = gantt.$keyboardNavigation.shortcuts.getCommandFromEvent(e);\n\n\t\t\tvar activeElement = this.getActiveNode();\n\n\t\t\tif (!activeElement) {\n\t\t\t\tthis.setDefaultNode();\n\t\t\t} else if (activeElement.findHandler(command)) {\n\t\t\t\tactiveElement.doAction(command, e);\n\t\t\t} else if (ganttNode.findHandler(command)) {\n\t\t\t\tganttNode.doAction(command, e);\n\t\t\t}\n\n\t\t}\n\t};\n\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./sources/ext/keyboard_navigation/core.js\n// module id = 16\n// module chunks = 0"],"sourceRoot":""}